var lt=Object.defineProperty;var at=(t,e,n)=>e in t?lt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ge=(t,e,n)=>at(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function G(){}function et(t){return t()}function Ie(){return Object.create(null)}function oe(t){t.forEach(et)}function tt(t){return typeof t=="function"}function ee(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let fe;function pe(t,e){return t===e?!0:(fe||(fe=document.createElement("a")),fe.href=e,t===fe.href)}function rt(t){return Object.keys(t).length===0}function c(t,e){t.appendChild(e)}function C(t,e,n){t.insertBefore(e,n||null)}function y(t){t.parentNode&&t.parentNode.removeChild(t)}function ot(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function h(t){return document.createElement(t)}function Y(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function O(t){return document.createTextNode(t)}function S(){return O(" ")}function nt(){return O("")}function W(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function o(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ct(t){return Array.from(t.childNodes)}function q(t,e){e=""+e,t.data!==e&&(t.data=e)}function ue(t,e,n){t.classList.toggle(e,!!n)}function dt(t,e,{bubbles:n=!1,cancelable:s=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:s})}let de;function ce(t){de=t}function st(){if(!de)throw new Error("Function called outside component initialization");return de}function ft(t){st().$$.on_mount.push(t)}function ye(){const t=st();return(e,n,{cancelable:s=!1}={})=>{const i=t.$$.callbacks[e];if(i){const l=dt(e,n,{cancelable:s});return i.slice().forEach(a=>{a.call(t,l)}),!l.defaultPrevented}return!0}}const ae=[],ve=[];let re=[];const Se=[],ut=Promise.resolve();let _e=!1;function mt(){_e||(_e=!0,ut.then(it))}function Ae(t){re.push(t)}const he=new Set;let le=0;function it(){if(le!==0)return;const t=de;do{try{for(;le<ae.length;){const e=ae[le];le++,ce(e),pt(e.$$)}}catch(e){throw ae.length=0,le=0,e}for(ce(null),ae.length=0,le=0;ve.length;)ve.pop()();for(let e=0;e<re.length;e+=1){const n=re[e];he.has(n)||(he.add(n),n())}re.length=0}while(ae.length);for(;Se.length;)Se.pop()();_e=!1,he.clear(),ce(t)}function pt(t){if(t.fragment!==null){t.update(),oe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ae)}}function gt(t){const e=[],n=[];re.forEach(s=>t.indexOf(s)===-1?e.push(s):n.push(s)),n.forEach(s=>s()),re=e}const me=new Set;let se;function be(){se={r:0,c:[],p:se}}function we(){se.r||oe(se.c),se=se.p}function H(t,e){t&&t.i&&(me.delete(t),t.i(e))}function K(t,e,n,s){if(t&&t.o){if(me.has(t))return;me.add(t),se.c.push(()=>{me.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}else s&&s()}function Ee(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function ie(t){t&&t.c()}function Z(t,e,n){const{fragment:s,after_update:i}=t.$$;s&&s.m(e,n),Ae(()=>{const l=t.$$.on_mount.map(et).filter(tt);t.$$.on_destroy?t.$$.on_destroy.push(...l):oe(l),t.$$.on_mount=[]}),i.forEach(Ae)}function Q(t,e){const n=t.$$;n.fragment!==null&&(gt(n.after_update),oe(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ht(t,e){t.$$.dirty[0]===-1&&(ae.push(t),mt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function te(t,e,n,s,i,l,a=null,r=[-1]){const f=de;ce(t);const m=t.$$={fragment:null,ctx:[],props:l,update:G,not_equal:i,bound:Ie(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:Ie(),dirty:r,skip_bound:!1,root:e.target||f.$$.root};a&&a(m.root);let A=!1;if(m.ctx=n?n(t,e.props||{},(_,p,...d)=>{const g=d.length?d[0]:p;return m.ctx&&i(m.ctx[_],m.ctx[_]=g)&&(!m.skip_bound&&m.bound[_]&&m.bound[_](g),A&&ht(t,_)),p}):[],m.update(),A=!0,oe(m.before_update),m.fragment=s?s(m.ctx):!1,e.target){if(e.hydrate){const _=ct(e.target);m.fragment&&m.fragment.l(_),_.forEach(y)}else m.fragment&&m.fragment.c();e.intro&&H(t.$$.fragment),Z(t,e.target,e.anchor),it()}ce(f)}class ne{constructor(){ge(this,"$$");ge(this,"$$set")}$destroy(){Q(this,1),this.$destroy=G}$on(e,n){if(!tt(n))return G;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(n),()=>{const i=s.indexOf(n);i!==-1&&s.splice(i,1)}}$set(e){this.$$set&&!rt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const vt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(vt);const _t="modulepreload",At=function(t){return"/"+t},ke={},Pe=function(e,n,s){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),r=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(f=>{if(f=At(f),f in ke)return;ke[f]=!0;const m=f.endsWith(".css"),A=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${A}`))return;const _=document.createElement("link");if(_.rel=m?"stylesheet":_t,m||(_.as="script"),_.crossOrigin="",_.href=f,r&&_.setAttribute("nonce",r),document.head.appendChild(_),m)return new Promise((p,d)=>{_.addEventListener("load",p),_.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${f}`)))})}))}function l(a){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=a,window.dispatchEvent(r),!r.defaultPrevented)throw a}return i.then(a=>{for(const r of a||[])r.status==="rejected"&&l(r.reason);return e().catch(l)})};function bt(t){let e,n,s,i,l,a=t[1]?"Drop your image here":"Upload Image",r,f,m,A,_,p,d,g,P;return{c(){e=h("div"),n=h("div"),s=h("div"),s.innerHTML='<svg fill="none" stroke="currentColor" viewBox="0 0 48 48"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02"></path></svg>',i=S(),l=h("h3"),r=O(a),f=S(),m=h("p"),m.textContent="Drag and drop your image here, or click to browse",A=S(),_=h("p"),_.textContent="Supports JPEG, PNG, TIFF, HEIC, and AVIF files",p=S(),d=h("input"),o(s,"class","upload-icon"),o(l,"class","text-lg font-semibold mb-2"),o(m,"class","text-secondary mb-4"),o(_,"class","text-sm text-muted"),o(d,"type","file"),o(d,"accept",".jpg,.jpeg,.png,.tiff,.tif,.heic,.avif"),o(d,"class","hidden"),d.disabled=t[0],o(n,"class","upload-area svelte-11wtlra"),o(n,"role","button"),o(n,"tabindex","0"),ue(n,"dragover",t[1]),ue(n,"disabled",t[0]),o(e,"class","upload-section svelte-11wtlra")},m(b,v){C(b,e,v),c(e,n),c(n,s),c(n,i),c(n,l),c(l,r),c(n,f),c(n,m),c(n,A),c(n,_),c(n,p),c(n,d),t[7](d),g||(P=[W(d,"change",t[6]),W(n,"dragover",t[3]),W(n,"dragleave",t[4]),W(n,"drop",t[5]),W(n,"click",t[8]),W(n,"keydown",t[9])],g=!0)},p(b,[v]){v&2&&a!==(a=b[1]?"Drop your image here":"Upload Image")&&q(r,a),v&1&&(d.disabled=b[0]),v&2&&ue(n,"dragover",b[1]),v&1&&ue(n,"disabled",b[0])},i:G,o:G,d(b){b&&y(e),t[7](null),g=!1,oe(P)}}}async function wt(t){try{const{parse:e}=await Pe(async()=>{const{parse:u}=await import("./full.esm--O4zKLWc.js");return{parse:u}},[]);if(!t.type.includes("jpeg")&&!t.type.includes("jpg")&&!t.type.includes("tiff")&&!t.type.includes("png")&&!t.type.includes("heic")&&!t.type.includes("avif"))return console.log("File type doesn't typically contain EXIF data"),{fileType:"other",hasMetadata:!1,message:"This file type typically doesn't contain EXIF metadata"};let s=await e(t,{tiff:!0,exif:!0,gps:!0,interop:!0,iop:!0,makerNote:!0,userComment:!0,xmp:!0,iptc:!0,icc:!0,ihdr:!0,jfif:!0,chunked:!0,firstChunkSize:131072,chunkSize:65536,multiSegment:!0,silentErrors:!1,segments:["APP0","APP1","APP2","APP3","APP4","APP5","APP6","APP7","APP8","APP9","APP10","APP11","APP12","APP13","APP14","APP15"],mergeOutput:!0,translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!1,pick:[],skip:[]})||{},i={};const l=await t.arrayBuffer(),a=new Uint8Array(l);if(i=await Pt(a,t.type),s={...s,...i},t.type.includes("png")&&(!s||Object.keys(s).length===0))try{const u=await e(t,{ihdr:!0,itxt:!0,text:!0,ztxt:!0,time:!0,phys:!0,splt:!0,hist:!0,chrm:!0,gama:!0,iccp:!0,sbit:!0,srgb:!0,bkgd:!0,trns:!0,mergeOutput:!1,translateKeys:!1,sanitize:!1});u&&Object.keys(u).length>0&&(s={...s,...u})}catch(u){console.log("PNG-specific parsing failed:",u)}if(!s||Object.keys(s).length===0)return{fileType:t.type.includes("png")?"png":"jpeg",hasMetadata:!1,message:t.type.includes("png")?"PNG files typically don't contain EXIF metadata":"No EXIF data found in this image - image appears to be clean"};const r={},f=Object.keys(s).filter(u=>u.toLowerCase().includes("c2pa")||u.toLowerCase().includes("cai")||u.toLowerCase().includes("provenance")||u.toLowerCase().includes("manifest")||u.toLowerCase().includes("signature")||u.toLowerCase().includes("claim")||u.toLowerCase().includes("assertion")||u.toLowerCase().includes("chatgpt")||u.toLowerCase().includes("openai")||u.toLowerCase().includes("ai_generated")||u.toLowerCase().includes("dall")||u.toLowerCase().includes("midjourney")||u.toLowerCase().includes("stable")||u.toLowerCase().includes("generated"));if(f.length>0){const u={};for(const F of f)u[F]=s[F];r["C2PA/AI Provenance"]=u}(i.C2PA_FOUND||i.AI_SIGNATURES||i.JUMBF_BOXES)&&(r["C2PA/AI Provenance"]||(r["C2PA/AI Provenance"]={}),i.TOTAL_SIGNATURES&&!r["C2PA/AI Provenance"].TOTAL_SIGNATURES&&(r["C2PA/AI Provenance"].TOTAL_SIGNATURES=i.TOTAL_SIGNATURES),i.C2PA_FOUND&&!r["C2PA/AI Provenance"].C2PA_FOUND&&(r["C2PA/AI Provenance"].C2PA_FOUND=i.C2PA_FOUND),i.AI_SIGNATURES&&!r["C2PA/AI Provenance"].AI_SIGNATURES&&(r["C2PA/AI Provenance"].AI_SIGNATURES=i.AI_SIGNATURES),i.JUMBF_BOXES&&!r["C2PA/AI Provenance"].JUMBF_BOXES&&(r["C2PA/AI Provenance"].JUMBF_BOXES=i.JUMBF_BOXES));const m=["latitude","longitude","GPSLatitude","GPSLongitude","GPSAltitude","GPSSpeed","GPSImgDirection","GPSDestBearing","GPSDateTime","GPSLatitudeRef","GPSLongitudeRef"],A={};for(const u of m)s[u]!==void 0&&(A[u]=s[u]);Object.keys(A).length>0&&(r.GPS=A);const _=["Make","Model","Software","DateTime","DateTimeOriginal","DateTimeDigitized","ExposureTime","FNumber","ISO","Flash","FocalLength","WhiteBalance","LensModel","LensMake","Artist","Copyright"],p={};for(const u of _)s[u]!==void 0&&(p[u]=s[u]);Object.keys(p).length>0&&(r.Camera=p);const d=["ColorSpace","Orientation","ResolutionUnit","XResolution","YResolution","ExifVersion","ComponentsConfiguration","ImageWidth","ImageHeight"],g={};for(const u of d)s[u]!==void 0&&(g[u]=s[u]);Object.keys(g).length>0&&(r.Technical=g);const P=Object.keys(s).filter(u=>u.toLowerCase().includes("xmp")||u.includes("Creator")||u.includes("Subject"));if(P.length>0){const u={};for(const F of P)u[F]=s[F];r.XMP=u}const b=Object.keys(s).filter(u=>u.toLowerCase().includes("iptc")||u.includes("Keywords")||u.includes("Caption"));if(b.length>0){const u={};for(const F of b)u[F]=s[F];r.IPTC=u}const v=Object.keys(s).filter(u=>u.toLowerCase().includes("text")||u.toLowerCase().includes("itxt")||u.toLowerCase().includes("ztxt")||u.toLowerCase().includes("time")||u.toLowerCase().includes("phys")||u.toLowerCase().includes("hist")||u.toLowerCase().includes("chrm")||u.toLowerCase().includes("gama")||u.toLowerCase().includes("srgb")||u.toLowerCase().includes("iccp"));if(v.length>0){const u={};for(const F of v)u[F]=s[F];r["PNG Chunks"]=u}const U=Object.keys(s).filter(u=>u.includes("Profile")||u.includes("ColorSpace")||u.includes("WhitePoint")||u.includes("PrimaryChromaticities")||u.includes("ICC"));if(U.length>0){const u={};for(const F of U)u[F]=s[F];r["Color Profile"]=u}const z=Object.keys(s).filter(u=>!m.includes(u)&&!_.includes(u)&&!d.includes(u)&&!P.includes(u)&&!b.includes(u)&&!v.includes(u)&&!f.includes(u)&&!U.includes(u)&&(u.includes("User")||u.includes("Comment")||u.includes("Description")||u.includes("AI")||u.includes("Generated")||u.includes("Thumbnail")||u.includes("Preview")));if(z.length>0){const u={};for(const F of z)u[F]=s[F];r.Other=u}return(i.TOTAL_SIGNATURES>0||i.METADATA_MARKERS>0)&&(r["Raw Analysis"]={"Total Signatures Found":i.TOTAL_SIGNATURES||0,"Metadata Markers":i.METADATA_MARKERS||0,"File Contains Binary Metadata":!0}),console.log("Extracted metadata with exifr:",r),console.log("Raw exifr data:",s),console.log("Raw binary analysis:",i),r}catch(e){return console.log("Error extracting metadata:",e.message),{fileType:t.type.includes("jpeg")||t.type.includes("jpg")?"jpeg":t.type.includes("png")?"png":"other",hasMetadata:!1,message:t.type.includes("png")?"PNG files typically don't contain EXIF metadata":e.message.includes("not supported")||e.message.includes("invalid")?"No EXIF data found in this image":"Image appears to be clean (no metadata found)"}}}async function Pt(t,e){const n={TOTAL_SIGNATURES:0,METADATA_MARKERS:0},s=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!1});let i="";const l=1024;for(let d=0;d<Math.min(t.length,1024*1024);d+=l){const g=t.slice(d,Math.min(d+l,t.length));try{i+=s.decode(g,{stream:!0})}catch{}}const a=["c2pa.manifest","c2pa.signature","c2pa.assertions","contentauthenticity.org","adobe.com/cai","CASS","c2pa.created","c2pa.converted"],r=["ChatGPT","OpenAI API","DALL-E","dall-e-","Midjourney","Stable Diffusion","AI-generated","trainedAlgorithmicMedia","digitalSourceType","GPT-4","generated","synthesized"],f=["jumb","JUMB","jumd","JUMD"];let m=[];for(const d of a)(i.includes(d)||i.toLowerCase().includes(d.toLowerCase()))&&(m.push(d),n.TOTAL_SIGNATURES++);m.length>0&&(n.C2PA_FOUND=m);let A=[];for(const d of r)if(i.includes(d)||i.toLowerCase().includes(d.toLowerCase())){const g=i.toLowerCase(),P=d.toLowerCase();g.includes(P)&&(d.length>4||g.includes(P+" ")||g.includes(" "+P)||g.includes(P+":")||g.includes(P+"=")||g.includes('"'+P+'"'))&&(A.push(d),n.TOTAL_SIGNATURES++)}A.length>0&&(n.AI_SIGNATURES=A);let _=[];for(const d of f)i.toLowerCase().includes(d.toLowerCase())&&(_.push(d),n.TOTAL_SIGNATURES++);_.length>0&&(n.JUMBF_BOXES=_);const p=["EXIF\0","IPTC","XMP\0","ICC_PROFILE","Photoshop 3.0","Adobe_CM","GPS\0"];for(const d of p)i.includes(d)&&n.METADATA_MARKERS++;if(e.includes("jpeg")||e.includes("jpg")){const d=new Uint8Array([255,235]),g=new Uint8Array([255,226]);let P=!1,b=!1;for(let v=0;v<t.length-10;v++){if(t[v]===d[0]&&t[v+1]===d[1]){P=!0;break}if(t[v]===g[0]&&t[v+1]===g[1]){const U=i.slice(v,v+100).toLowerCase();(U.includes("c2pa")||U.includes("cai")||U.includes("jumb"))&&(b=!0)}}(P||b)&&(n.JUMBF_BOXES||(n.JUMBF_BOXES=[]),P&&n.JUMBF_BOXES.push("APP11_segment"),b&&n.JUMBF_BOXES.push("APP2_segment"),n.TOTAL_SIGNATURES++)}return n}function yt(t,e,n){const s=ye();let{disabled:i=!1}=e,l=!1,a;const r=["image/jpeg","image/jpg","image/png","image/tiff","image/heic","image/avif"];function f(b){b.preventDefault(),i||n(1,l=!0)}function m(b){b.preventDefault(),n(1,l=!1)}function A(b){if(b.preventDefault(),n(1,l=!1),i)return;const v=b.dataTransfer.files;v.length>0&&p(v[0])}function _(b){if(i)return;const v=b.target.files;v.length>0&&p(v[0])}async function p(b){if(!r.includes(b.type)){alert("Please select a supported image file (JPEG, PNG, TIFF, HEIC, or AVIF).");return}try{const v=await wt(b);s("fileSelected",{file:b,metadata:v})}catch(v){console.error("Error processing file:",v),alert("Error processing the file. Please try again.")}}function d(b){ve[b?"unshift":"push"](()=>{a=b,n(2,a)})}const g=()=>!i&&a.click(),P=b=>(b.key==="Enter"||b.key===" ")&&!i&&a.click();return t.$$set=b=>{"disabled"in b&&n(0,i=b.disabled)},[i,l,a,f,m,A,_,d,g,P]}class Ct extends ne{constructor(e){super(),te(this,e,yt,bt,ee,{disabled:0})}}function Te(t,e,n){const s=t.slice();return s[4]=e[n],s}function Me(t){let e;return{c(){e=h("span"),e.textContent="⚠️ Contains AI-related tags",o(e,"class","status-warning py-1 px-2 text-xs")},m(n,s){C(n,e,s)},d(n){n&&y(e)}}}function It(t){let e,n,s,i,l,a=t[1].totalEntries+"",r,f,m,A,_,p,d,g,P,b,v,U,z,u,F,N,J,V=t[0].Other&&Object.keys(t[0].Other).length>0,D,X=Ee(t[1].sections),j=[];for(let w=0;w<X.length;w+=1)j[w]=Le(Te(t,X,w));let R=t[0].GPS&&xe(),E=t[0].Camera&&Oe(),L=t[0].Technical&&Ue(),I=t[2]&&je(t),T=t[0].XMP&&Ge(),k=t[0].IPTC&&Be(),M=V&&ze(),x=t[0]["Color Profile"]&&Xe();return{c(){e=h("div"),n=h("div"),s=h("p"),i=h("strong"),i.textContent="Total entries:",l=S(),r=O(a),f=S(),m=h("div");for(let w=0;w<j.length;w+=1)j[w].c();A=S(),_=h("div"),p=O(t[3]),d=S(),g=h("div"),P=h("h5"),P.textContent="Privacy Concerns Found:",b=S(),v=h("ul"),R&&R.c(),U=S(),E&&E.c(),z=S(),L&&L.c(),u=S(),I&&I.c(),F=S(),T&&T.c(),N=S(),k&&k.c(),J=S(),M&&M.c(),D=S(),x&&x.c(),o(s,"class","text-sm text-secondary"),o(m,"class","text-xs text-muted mt-1"),o(n,"class","metadata-summary svelte-17zmybm"),o(e,"class","mb-4"),o(_,"class","metadata-viewer"),o(P,"class","font-medium mb-2"),o(v,"class","text-sm text-secondary space-y-1 svelte-17zmybm"),o(g,"class","mt-4")},m(w,$){C(w,e,$),c(e,n),c(n,s),c(s,i),c(s,l),c(s,r),c(n,f),c(n,m);for(let B=0;B<j.length;B+=1)j[B]&&j[B].m(m,null);C(w,A,$),C(w,_,$),c(_,p),C(w,d,$),C(w,g,$),c(g,P),c(g,b),c(g,v),R&&R.m(v,null),c(v,U),E&&E.m(v,null),c(v,z),L&&L.m(v,null),c(v,u),I&&I.m(v,null),c(v,F),T&&T.m(v,null),c(v,N),k&&k.m(v,null),c(v,J),M&&M.m(v,null),c(g,D),x&&x.m(g,null)},p(w,$){if($&2&&a!==(a=w[1].totalEntries+"")&&q(r,a),$&2){X=Ee(w[1].sections);let B;for(B=0;B<X.length;B+=1){const Ce=Te(w,X,B);j[B]?j[B].p(Ce,$):(j[B]=Le(Ce),j[B].c(),j[B].m(m,null))}for(;B<j.length;B+=1)j[B].d(1);j.length=X.length}$&8&&q(p,w[3]),w[0].GPS?R||(R=xe(),R.c(),R.m(v,U)):R&&(R.d(1),R=null),w[0].Camera?E||(E=Oe(),E.c(),E.m(v,z)):E&&(E.d(1),E=null),w[0].Technical?L||(L=Ue(),L.c(),L.m(v,u)):L&&(L.d(1),L=null),w[2]?I?I.p(w,$):(I=je(w),I.c(),I.m(v,F)):I&&(I.d(1),I=null),w[0].XMP?T||(T=Ge(),T.c(),T.m(v,N)):T&&(T.d(1),T=null),w[0].IPTC?k||(k=Be(),k.c(),k.m(v,J)):k&&(k.d(1),k=null),$&1&&(V=w[0].Other&&Object.keys(w[0].Other).length>0),V?M||(M=ze(),M.c(),M.m(v,null)):M&&(M.d(1),M=null),w[0]["Color Profile"]?x||(x=Xe(),x.c(),x.m(g,null)):x&&(x.d(1),x=null)},d(w){w&&(y(e),y(A),y(_),y(d),y(g)),ot(j,w),R&&R.d(),E&&E.d(),L&&L.d(),I&&I.d(),T&&T.d(),k&&k.d(),M&&M.d(),x&&x.d()}}}function St(t){let e,n,s;function i(f,m){return f[0].message?kt:Et}let l=i(t),a=l(t),r=t[0].fileType==="png"&&He();return{c(){e=h("div"),a.c(),n=S(),r&&r.c(),s=nt(),o(e,"class","status-success")},m(f,m){C(f,e,m),a.m(e,null),C(f,n,m),r&&r.m(f,m),C(f,s,m)},p(f,m){l===(l=i(f))&&a?a.p(f,m):(a.d(1),a=l(f),a&&(a.c(),a.m(e,null))),f[0].fileType==="png"?r||(r=He(),r.c(),r.m(s.parentNode,s)):r&&(r.d(1),r=null)},d(f){f&&(y(e),y(n),y(s)),a.d(),r&&r.d(f)}}}function Le(t){let e,n=t[4]+"",s;return{c(){e=h("span"),s=O(n),o(e,"class","section-tag svelte-17zmybm")},m(i,l){C(i,e,l),c(e,s)},p(i,l){l&2&&n!==(n=i[4]+"")&&q(s,n)},d(i){i&&y(e)}}}function xe(t){let e;return{c(){e=h("li"),e.textContent="📍 GPS location data",o(e,"class","status-warning svelte-17zmybm")},m(n,s){C(n,e,s)},d(n){n&&y(e)}}}function Oe(t){let e;return{c(){e=h("li"),e.textContent="📷 Camera information",o(e,"class","status-warning svelte-17zmybm")},m(n,s){C(n,e,s)},d(n){n&&y(e)}}}function Ue(t){let e;return{c(){e=h("li"),e.textContent="🖼️ Image creation details",o(e,"class","status-warning svelte-17zmybm")},m(n,s){C(n,e,s)},d(n){n&&y(e)}}}function je(t){let e,n,s,i=t[0]["C2PA/AI Provenance"]&&Fe(t);return{c(){e=h("li"),e.textContent="🤖 AI generation indicators",n=S(),i&&i.c(),s=nt(),o(e,"class","status-warning svelte-17zmybm")},m(l,a){C(l,e,a),C(l,n,a),i&&i.m(l,a),C(l,s,a)},p(l,a){l[0]["C2PA/AI Provenance"]?i?i.p(l,a):(i=Fe(l),i.c(),i.m(s.parentNode,s)):i&&(i.d(1),i=null)},d(l){l&&(y(e),y(n),y(s)),i&&i.d(l)}}}function Fe(t){let e,n,s,i,l=t[0]["C2PA/AI Provenance"].AI_SIGNATURES&&t[0]["C2PA/AI Provenance"].AI_SIGNATURES.length>0&&Re(t),a=t[0]["C2PA/AI Provenance"].C2PA_FOUND&&t[0]["C2PA/AI Provenance"].C2PA_FOUND.length>0&&$e(t),r=t[0]["C2PA/AI Provenance"].TOTAL_SIGNATURES&&t[0]["C2PA/AI Provenance"].TOTAL_SIGNATURES>0&&Ne(t),f=t[0]["C2PA/AI Provenance"].JUMBF_BOXES&&t[0]["C2PA/AI Provenance"].JUMBF_BOXES.length>0&&De(t);return{c(){e=h("ul"),l&&l.c(),n=S(),a&&a.c(),s=S(),r&&r.c(),i=S(),f&&f.c(),o(e,"class","ml-4 mt-1 text-xs svelte-17zmybm")},m(m,A){C(m,e,A),l&&l.m(e,null),c(e,n),a&&a.m(e,null),c(e,s),r&&r.m(e,null),c(e,i),f&&f.m(e,null)},p(m,A){m[0]["C2PA/AI Provenance"].AI_SIGNATURES&&m[0]["C2PA/AI Provenance"].AI_SIGNATURES.length>0?l?l.p(m,A):(l=Re(m),l.c(),l.m(e,n)):l&&(l.d(1),l=null),m[0]["C2PA/AI Provenance"].C2PA_FOUND&&m[0]["C2PA/AI Provenance"].C2PA_FOUND.length>0?a?a.p(m,A):(a=$e(m),a.c(),a.m(e,s)):a&&(a.d(1),a=null),m[0]["C2PA/AI Provenance"].TOTAL_SIGNATURES&&m[0]["C2PA/AI Provenance"].TOTAL_SIGNATURES>0?r?r.p(m,A):(r=Ne(m),r.c(),r.m(e,i)):r&&(r.d(1),r=null),m[0]["C2PA/AI Provenance"].JUMBF_BOXES&&m[0]["C2PA/AI Provenance"].JUMBF_BOXES.length>0?f?f.p(m,A):(f=De(m),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(m){m&&y(e),l&&l.d(),a&&a.d(),r&&r.d(),f&&f.d()}}}function Re(t){let e,n,s=t[0]["C2PA/AI Provenance"].AI_SIGNATURES.join(", ")+"",i;return{c(){e=h("li"),n=O("• AI Tools: "),i=O(s)},m(l,a){C(l,e,a),c(e,n),c(e,i)},p(l,a){a&1&&s!==(s=l[0]["C2PA/AI Provenance"].AI_SIGNATURES.join(", ")+"")&&q(i,s)},d(l){l&&y(e)}}}function $e(t){let e,n,s=t[0]["C2PA/AI Provenance"].C2PA_FOUND.length+"",i,l;return{c(){e=h("li"),n=O("• C2PA Provenance: "),i=O(s),l=O(" signature(s)")},m(a,r){C(a,e,r),c(e,n),c(e,i),c(e,l)},p(a,r){r&1&&s!==(s=a[0]["C2PA/AI Provenance"].C2PA_FOUND.length+"")&&q(i,s)},d(a){a&&y(e)}}}function Ne(t){let e,n,s=t[0]["C2PA/AI Provenance"].TOTAL_SIGNATURES+"",i;return{c(){e=h("li"),n=O("• Total AI/C2PA markers: "),i=O(s)},m(l,a){C(l,e,a),c(e,n),c(e,i)},p(l,a){a&1&&s!==(s=l[0]["C2PA/AI Provenance"].TOTAL_SIGNATURES+"")&&q(i,s)},d(l){l&&y(e)}}}function De(t){let e,n,s=t[0]["C2PA/AI Provenance"].JUMBF_BOXES.length+"",i;return{c(){e=h("li"),n=O("• JUMBF metadata containers: "),i=O(s)},m(l,a){C(l,e,a),c(e,n),c(e,i)},p(l,a){a&1&&s!==(s=l[0]["C2PA/AI Provenance"].JUMBF_BOXES.length+"")&&q(i,s)},d(l){l&&y(e)}}}function Ge(t){let e;return{c(){e=h("li"),e.textContent="📝 XMP metadata",o(e,"class","status-warning svelte-17zmybm")},m(n,s){C(n,e,s)},d(n){n&&y(e)}}}function Be(t){let e;return{c(){e=h("li"),e.textContent="📋 IPTC metadata",o(e,"class","status-warning svelte-17zmybm")},m(n,s){C(n,e,s)},d(n){n&&y(e)}}}function ze(t){let e;return{c(){e=h("li"),e.textContent="📄 Other metadata",o(e,"class","status-warning svelte-17zmybm")},m(n,s){C(n,e,s)},d(n){n&&y(e)}}}function Xe(t){let e;return{c(){e=h("div"),e.innerHTML=`<p><strong>ℹ️ Color Profile:</strong> Contains ICC color management data
            (not privacy-concerning)</p>`,o(e,"class","mt-3 p-2 bg-info rounded text-xs")},m(n,s){C(n,e,s)},d(n){n&&y(e)}}}function Et(t){let e;return{c(){e=O("✅ No metadata found - image is already clean!")},m(n,s){C(n,e,s)},p:G,d(n){n&&y(e)}}}function kt(t){let e,n=t[0].message+"",s;return{c(){e=O("✅ "),s=O(n)},m(i,l){C(i,e,l),C(i,s,l)},p(i,l){l&1&&n!==(n=i[0].message+"")&&q(s,n)},d(i){i&&(y(e),y(s))}}}function He(t){let e;return{c(){e=h("div"),e.innerHTML=`<p><strong>ℹ️ About PNG files:</strong></p> <p>PNG files typically don&#39;t contain EXIF metadata. However, you can
          still process this image to ensure it&#39;s completely clean and remove
          any potential hidden data.</p>`,o(e,"class","mt-3 p-3 bg-info rounded text-sm")},m(n,s){C(n,e,s)},d(n){n&&y(e)}}}function Tt(t){let e,n,s,i,l,a,r=t[2]&&Me();function f(_,p){return p&1&&(a=null),a==null&&(a=!!(Object.keys(_[0]).length===0||_[0].message&&!_[0].hasMetadata)),a?St:It}let m=f(t,-1),A=m(t);return{c(){e=h("div"),n=h("div"),s=h("h4"),s.textContent="EXIF Metadata",i=S(),r&&r.c(),l=S(),A.c(),o(s,"class","font-semibold"),o(n,"class","flex justify-between items-center mb-4"),o(e,"class","metadata-section")},m(_,p){C(_,e,p),c(e,n),c(n,s),c(n,i),r&&r.m(n,null),c(e,l),A.m(e,null)},p(_,[p]){_[2]?r||(r=Me(),r.c(),r.m(n,null)):r&&(r.d(1),r=null),m===(m=f(_,p))&&A?A.p(_,p):(A.d(1),A=m(_),A&&(A.c(),A.m(e,null)))},i:G,o:G,d(_){_&&y(e),r&&r.d(),A.d()}}}function Mt(t){if(!t||Object.keys(t).length===0)return"No metadata found";if(t.message&&!t.hasMetadata)return t.message;let e="";return Object.entries(t).forEach(([n,s])=>{n==="fileType"||n==="hasMetadata"||n==="message"||(e+=`[${n}]
`,typeof s=="object"&&s!==null&&Object.entries(s).forEach(([i,l])=>{let a;Array.isArray(l)?a=`[${l.join(", ")}]`:typeof l=="string"&&l.length>100?a=l.substring(0,100)+"...":a=l,e+=`  ${i}: ${a}
`}),e+=`
`)}),e.trim()}function Lt(t){let e=0,n=[];return t.message&&!t.hasMetadata?{totalEntries:0,sections:[]}:(Object.entries(t).forEach(([s,i])=>{if(!(s==="fileType"||s==="hasMetadata"||s==="message")&&typeof i=="object"&&i!==null){const l=Object.keys(i).length;e+=l,n.push(`${s}: ${l} entries`)}}),{totalEntries:e,sections:n})}function xt(t){if(t["C2PA/AI Provenance"]){const s=t["C2PA/AI Provenance"];if(s.AI_SIGNATURES&&Array.isArray(s.AI_SIGNATURES)&&s.AI_SIGNATURES.length>0||s.C2PA_FOUND&&Array.isArray(s.C2PA_FOUND)&&s.C2PA_FOUND.length>0||s.JUMBF_BOXES&&Array.isArray(s.JUMBF_BOXES)&&s.JUMBF_BOXES.filter(l=>!l.includes("APP2_segment")||l.includes("jumb")||l.includes("JUMB")||l.includes("jumd")||l.includes("JUMD")).length>0||s.TOTAL_SIGNATURES&&s.TOTAL_SIGNATURES>1)return!0}const e=["chatgpt","openai","dall-e","dalle","midjourney","stable diffusion","artificial intelligence","ai-generated","machine learning","neural network","synthesized","gpt-4","trainedAlgorithmicMedia","adobe firefly","google imagen","anthropic claude","runway ml","artbreeder","deepdream","nightcafe","starryai","jasper art","canva ai","remove.bg","upscayl","real-esrgan","waifu2x","topaz gigapixel","c2pa","content credentials","provenance","content authenticity","jumbf","cai","project origin"];let n=!1;return Object.entries(t).forEach(([s,i])=>{s==="fileType"||s==="hasMetadata"||s==="message"||s==="Raw Analysis"||s==="C2PA/AI Provenance"||typeof i=="object"&&i!==null&&Object.entries(i).forEach(([l,a])=>{const r=String(a).toLowerCase();e.some(f=>r.includes(f.toLowerCase()))&&(n=!0)})}),n}function Ot(t,e,n){let s,i,l,{metadata:a={}}=e;return t.$$set=r=>{"metadata"in r&&n(0,a=r.metadata)},t.$$.update=()=>{t.$$.dirty&1&&n(3,s=Mt(a)),t.$$.dirty&1&&n(2,i=xt(a)),t.$$.dirty&1&&n(1,l=Lt(a))},[a,l,i,s]}class Ut extends ne{constructor(e){super(),te(this,e,Ot,Tt,ee,{metadata:0})}}function jt(t){let e,n,s;return{c(){e=Y("svg"),n=Y("path"),s=O(`
        Remove Metadata`),o(n,"fill-rule","evenodd"),o(n,"d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"),o(n,"clip-rule","evenodd"),o(e,"width","20"),o(e,"height","20"),o(e,"fill","currentColor"),o(e,"viewBox","0 0 20 20")},m(i,l){C(i,e,l),c(e,n),C(i,s,l)},d(i){i&&(y(e),y(s))}}}function Ft(t){let e,n,s;return{c(){e=Y("svg"),n=Y("path"),s=O(`
        Processing...`),o(n,"fill-rule","evenodd"),o(n,"d","M4 2a2 2 0 00-2 2v11a2 2 0 002 2h12a2 2 0 002-2V4a2 2 0 00-2-2H4zm0 2h12v11H4V4z"),o(n,"clip-rule","evenodd"),o(e,"class","animate-spin svelte-1c0mwhx"),o(e,"width","20"),o(e,"height","20"),o(e,"fill","currentColor"),o(e,"viewBox","0 0 20 20")},m(i,l){C(i,e,l),c(e,n),C(i,s,l)},d(i){i&&(y(e),y(s))}}}function Rt(t){let e,n,s,i,l,a,r,f,m;function A(d,g){return d[0]?Ft:jt}let _=A(t),p=_(t);return{c(){e=h("div"),n=h("div"),s=h("p"),s.textContent=`Remove all EXIF metadata, AI content credentials, and provenance data from
      your image to protect your privacy. This process happens entirely in your
      browser - no data is sent to any server. Enhanced detection for C2PA
      signatures, DALL-E watermarks, and other AI generation markers.`,i=S(),l=h("button"),p.c(),a=S(),r=h("div"),r.innerHTML=`<h4 class="font-semibold mb-3">What gets removed:</h4> <div class="grid grid-2 gap-3 text-sm"><div class="flex items-center gap-2"><span class="text-success svelte-1c0mwhx">✓</span>
        GPS location data</div> <div class="flex items-center gap-2"><span class="text-success svelte-1c0mwhx">✓</span>
        Camera make &amp; model</div> <div class="flex items-center gap-2"><span class="text-success svelte-1c0mwhx">✓</span>
        Date &amp; time taken</div> <div class="flex items-center gap-2"><span class="text-success svelte-1c0mwhx">✓</span>
        Camera settings</div> <div class="flex items-center gap-2"><span class="text-success svelte-1c0mwhx">✓</span>
        Software information</div> <div class="flex items-center gap-2"><span class="text-success svelte-1c0mwhx">✓</span>
        AI generation tags</div> <div class="flex items-center gap-2"><span class="text-success svelte-1c0mwhx">✓</span>
        C2PA content credentials</div> <div class="flex items-center gap-2"><span class="text-success svelte-1c0mwhx">✓</span>
        DALL-E/ChatGPT signatures</div> <div class="flex items-center gap-2"><span class="text-success svelte-1c0mwhx">✓</span>
        Midjourney watermarks</div> <div class="flex items-center gap-2"><span class="text-success svelte-1c0mwhx">✓</span>
        Stable Diffusion metadata</div> <div class="flex items-center gap-2"><span class="text-success svelte-1c0mwhx">✓</span>
        Adobe AI provenance</div> <div class="flex items-center gap-2"><span class="text-success svelte-1c0mwhx">✓</span>
        JUMBF metadata containers</div></div>`,o(s,"class","text-secondary mb-4"),o(l,"class","btn btn-primary btn-lg"),l.disabled=t[0],o(n,"class","text-center mb-6"),o(r,"class","privacy-features svelte-1c0mwhx"),o(e,"class","processor-section")},m(d,g){C(d,e,g),c(e,n),c(n,s),c(n,i),c(n,l),p.m(l,null),c(e,a),c(e,r),f||(m=W(l,"click",t[1]),f=!0)},p(d,[g]){_!==(_=A(d))&&(p.d(1),p=_(d),p&&(p.c(),p.m(l,null))),g&1&&(l.disabled=d[0])},i:G,o:G,d(d){d&&y(e),p.d(),f=!1,m()}}}function $t(t,e,n){const s=ye();let{file:i}=e,{disabled:l=!1}=e;async function a(){if(!(!i||l)){s("processingStart");try{await r();const p=new Image;p.onload=function(){try{const d=document.createElement("canvas"),g=d.getContext("2d");d.width=p.width,d.height=p.height,g.clearRect(0,0,d.width,d.height),g.globalCompositeOperation="source-over",g.drawImage(p,0,0);let P="image/jpeg",b=.92;i.type==="image/png"&&p.width*p.height<1e6&&(P="image/png",b=void 0),d.toBlob(v=>{if(v)f(v,i);else throw new Error("Failed to create blob from canvas")},P,b)}catch(d){console.error("Error processing with canvas:",d),_()}},p.onerror=function(){console.error("Error loading image"),_()},p.src=URL.createObjectURL(i)}catch(p){console.error("Error in processImage:",p),_()}}}async function r(){try{const{parse:p}=await Pe(async()=>{const{parse:g}=await import("./full.esm--O4zKLWc.js");return{parse:g}},[]),d=await p(i,{tiff:!0,exif:!0,gps:!0,xmp:!0,iptc:!0,icc:!0,jfif:!0,ihdr:!0,iptc:!0,photoshop:!0,silentErrors:!0});if(d){console.log("🔍 Detected metadata before cleaning:",d);const g=[];if(d.Software&&typeof d.Software=="string"){const P=d.Software.toLowerCase();(P.includes("dall-e")||P.includes("dalle")||P.includes("chatgpt")||P.includes("openai")||P.includes("midjourney")||P.includes("stable diffusion"))&&g.push("AI Software Signature")}d.Description&&d.Description.includes("c2pa")&&g.push("C2PA Content Credentials"),d.Creator&&(d.Creator.includes("AI")||d.Creator.includes("artificial intelligence"))&&g.push("AI Creator Tags"),g.length>0&&console.log("🤖 AI content credentials detected:",g)}}catch(p){console.log("Could not analyze AI credentials:",p)}}async function f(p,d){try{const{parse:g}=await Pe(async()=>{const{parse:v}=await import("./full.esm--O4zKLWc.js");return{parse:v}},[]),P=await g(p,{tiff:!0,exif:!0,gps:!0,xmp:!0,iptc:!0,icc:!0,silentErrors:!0});P&&Object.keys(P).length>0?(console.warn("Some metadata may still be present:",P),await m(p,d)):(console.log("✅ Image successfully cleaned - no metadata detected"),A(p,d))}catch(g){console.log("Could not verify metadata removal (this is usually okay):",g),A(p,d)}}async function m(p,d){try{console.log("Performing second pass metadata removal...");const g=new Image;g.onload=function(){const P=document.createElement("canvas"),b=P.getContext("2d");P.width=g.width,P.height=g.height,b.clearRect(0,0,P.width,P.height),b.fillStyle="#FFFFFF",b.fillRect(0,0,P.width,P.height),b.drawImage(g,0,0),P.toBlob(v=>{v?(console.log("✅ Second pass completed"),A(v,d,!0)):A(p,d)},"image/jpeg",.95)},g.onerror=()=>A(p,d),g.src=URL.createObjectURL(p)}catch(g){console.error("Second pass failed:",g),A(p,d)}}function A(p,d,g=!1){const P=URL.createObjectURL(p),b=d.name.split(".").pop(),v=d.name.replace(new RegExp(`\\.${b}$`,"i"),"");let U=b;p.type==="image/jpeg"?U="jpg":p.type==="image/png"&&(U="png");const z=`${v}-cleaned.${U}`;s("processingComplete",{processedImage:{url:P,filename:z,size:p.size,wasSecondPass:g,originalSize:d.size,compressionRatio:((d.size-p.size)/d.size*100).toFixed(1)}})}function _(){const p=URL.createObjectURL(i),d=i.name.split(".").pop(),P=`${i.name.replace(new RegExp(`\\.${d}$`,"i"),"")}-cleaned.${d}`;s("processingComplete",{processedImage:{url:p,filename:P,size:i.size}})}return t.$$set=p=>{"file"in p&&n(2,i=p.file),"disabled"in p&&n(0,l=p.disabled)},[l,a,i]}class Nt extends ne{constructor(e){super(),te(this,e,$t,Rt,ee,{file:2,disabled:0})}}function Dt(t){let e,n;return{c(){e=Y("svg"),n=Y("path"),o(n,"d","M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"),o(e,"width","24"),o(e,"height","24"),o(e,"fill","currentColor"),o(e,"viewBox","0 0 20 20")},m(s,i){C(s,e,i),c(e,n)},d(s){s&&y(e)}}}function Gt(t){let e,n;return{c(){e=Y("svg"),n=Y("path"),o(n,"fill-rule","evenodd"),o(n,"d","M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"),o(n,"clip-rule","evenodd"),o(e,"width","24"),o(e,"height","24"),o(e,"fill","currentColor"),o(e,"viewBox","0 0 20 20")},m(s,i){C(s,e,i),c(e,n)},d(s){s&&y(e)}}}function Bt(t){let e,n,s;function i(r,f){return r[0]?Gt:Dt}let l=i(t),a=l(t);return{c(){e=h("button"),a.c(),o(e,"class","theme-toggle"),o(e,"aria-label","Toggle dark mode"),o(e,"title","Toggle dark mode")},m(r,f){C(r,e,f),a.m(e,null),n||(s=W(e,"click",t[1]),n=!0)},p(r,[f]){l!==(l=i(r))&&(a.d(1),a=l(r),a&&(a.c(),a.m(e,null)))},i:G,o:G,d(r){r&&y(e),a.d(),n=!1,s()}}}function zt(t,e,n){const s=ye();let{darkMode:i=!1}=e;function l(){s("toggle")}return t.$$set=a=>{"darkMode"in a&&n(0,i=a.darkMode)},[i,l]}class Xt extends ne{constructor(e){super(),te(this,e,zt,Bt,ee,{darkMode:0})}}function Ht(t){let e;return{c(){e=h("header"),e.innerHTML=`<div class="flex items-center justify-center gap-4 mb-4 header-title svelte-1lwnd43"><div class="logo-container svelte-1lwnd43"><svg width="56" height="56" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg" class="logo-svg svelte-1lwnd43"><defs><linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#3B82F6;stop-opacity:1"></stop><stop offset="100%" style="stop-color:#1E40AF;stop-opacity:1"></stop></linearGradient><filter id="shadow" x="-20%" y="-20%" width="140%" height="140%"><feDropShadow dx="0" dy="2" stdDeviation="3" flood-color="rgba(0,0,0,0.1)"></feDropShadow></filter></defs><circle cx="24" cy="24" r="22" fill="url(#logoGradient)" filter="url(#shadow)"></circle><rect x="10" y="14" width="28" height="20" rx="3" fill="white" opacity="0.9"></rect><rect x="12" y="16" width="24" height="16" rx="2" fill="none" stroke="#1E40AF" stroke-width="1.5"></rect><path d="M12 28 L18 22 L22 25 L28 20 L36 26 V30 H12 Z" fill="#E5E7EB" opacity="0.6"></path><circle cx="30" cy="20" r="2.5" fill="#FCD34D" opacity="0.7"></circle><line x1="8" y1="8" x2="40" y2="40" stroke="#EF4444" stroke-width="3" stroke-linecap="round" opacity="0.8"></line><line x1="8" y1="8" x2="40" y2="40" stroke="white" stroke-width="1.5" stroke-linecap="round"></line><path d="M38 10 L42 10 C43.1 10 44 10.9 44 12 L44 16 C44 19.3 42.3 22.4 39.5 24.2 L38 25 L36.5 24.2 C33.7 22.4 32 19.3 32 16 L32 12 C32 10.9 32.9 10 34 10 L38 10 Z" fill="#10B981" stroke="white" stroke-width="1"></path><path d="M36 15 L37.5 16.5 L40 14" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div> <div class="brand-text svelte-1lwnd43"><h1 class="brand-name svelte-1lwnd43"><span class="brand-primary svelte-1lwnd43">Untrace</span><span class="brand-secondary svelte-1lwnd43">trace</span></h1> <p class="brand-tagline svelte-1lwnd43">Remove EXIF metadata &amp; AI credentials. Protect privacy.</p> <div class="brand-badge svelte-1lwnd43"><span class="badge-text svelte-1lwnd43">Professional Privacy Tool</span></div></div></div> <p class="text-sm text-secondary max-w-2xl mx-auto header-description svelte-1lwnd43"><strong>Free online EXIF metadata remover</strong> that strips GPS location
    data, camera information, AI content credentials, and C2PA provenance from
    images. <strong>100% browser-based processing</strong>
    - no uploads, no tracking, no data collection.</p> <div class="mt-4 text-xs text-muted feature-tags svelte-1lwnd43"><span class="feature-tag svelte-1lwnd43"><svg width="12" height="12" fill="currentColor" viewBox="0 0 20 20" class="svelte-1lwnd43"><path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"></path></svg>
      EXIF Removal</span> <span class="feature-tag svelte-1lwnd43"><svg width="12" height="12" fill="currentColor" viewBox="0 0 20 20" class="svelte-1lwnd43"><path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"></path></svg>
      AI Tag Stripper</span> <span class="feature-tag svelte-1lwnd43"><svg width="12" height="12" fill="currentColor" viewBox="0 0 20 20" class="svelte-1lwnd43"><path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"></path></svg>
      GPS Cleaner</span> <span class="feature-tag svelte-1lwnd43"><svg width="12" height="12" fill="currentColor" viewBox="0 0 20 20" class="svelte-1lwnd43"><path fill-rule="evenodd" d="M3 6a3 3 0 013-3h10a1 1 0 01.8 1.6L14.25 8l2.55 3.4A1 1 0 0116 13H6a1 1 0 00-1 1v3a1 1 0 11-2 0V6z" clip-rule="evenodd"></path></svg>
      C2PA Remover</span> <span class="feature-tag svelte-1lwnd43"><svg width="12" height="12" fill="currentColor" viewBox="0 0 20 20" class="svelte-1lwnd43"><path fill-rule="evenodd" d="M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z" clip-rule="evenodd"></path></svg>
      Instant Processing</span></div>`,o(e,"class","text-center mb-6 header-container svelte-1lwnd43")},m(n,s){C(n,e,s)},p:G,i:G,o:G,d(n){n&&y(e)}}}class Jt extends ne{constructor(e){super(),te(this,e,null,Ht,ee,{})}}function qt(t){let e;return{c(){e=h("footer"),e.innerHTML=`<div class="container"><div class="grid grid-2 gap-8 mb-6"><div><h3 class="font-semibold mb-3">About Untrace</h3> <p class="text-sm text-secondary">A privacy-first tool that removes EXIF metadata from images completely
          in your browser. No servers, no tracking, no data collection.</p></div> <div><h3 class="font-semibold mb-3">Open Source</h3> <p class="text-sm text-secondary mb-2">Built with Svelte and deployed on GitHub Pages.</p> <a href="https://github.com/developersharif/untrace" class="btn btn-secondary text-sm" target="_blank" rel="noopener noreferrer"><svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>
          View Source</a></div></div> <div class="text-sm text-muted"><p>© 2025 Untrace. Built for privacy advocates, journalists, and digital
        rights.</p> <p class="mt-1">No analytics • No tracking • No data collection</p></div></div>`,o(e,"class","mt-12 py-8 border-t border-color text-center svelte-1vngk71")},m(n,s){C(n,e,s)},p:G,i:G,o:G,d(n){n&&y(e)}}}class Vt extends ne{constructor(e){super(),te(this,e,null,qt,ee,{})}}function Kt(t){let e,n,s,i,l;return{c(){e=h("div"),e.innerHTML=`<div><h3 class="font-semibold mb-3 flex items-center gap-2"><span class="text-success svelte-1dgjmcq">✓</span>
      Client-Side Processing</h3> <p class="text-sm text-secondary mb-4">Images never leave your browser. Processing happens locally.</p> <h3 class="font-semibold mb-3 flex items-center gap-2"><span class="text-success svelte-1dgjmcq">✓</span>
      No Data Collection</h3> <p class="text-sm text-secondary mb-4">No analytics, tracking, or data collection.</p> <h3 class="font-semibold mb-3 flex items-center gap-2"><span class="text-success svelte-1dgjmcq">✓</span>
      Open Source</h3> <p class="text-sm text-secondary">Fully auditable codebase. Verify what happens to your data.</p></div> <div><h3 class="font-semibold mb-3">Why Remove Metadata?</h3> <div class="space-y-3 text-sm text-secondary svelte-1dgjmcq"><div class="privacy-risk svelte-1dgjmcq"><strong>📍 Location:</strong> GPS coordinates reveal photo locations</div> <div class="privacy-risk svelte-1dgjmcq"><strong>📷 Device Info:</strong> Camera models can link photos to devices</div> <div class="privacy-risk svelte-1dgjmcq"><strong>🕒 Timestamps:</strong> Enable detailed activity timelines</div> <div class="privacy-risk svelte-1dgjmcq"><strong>🤖 AI Detection:</strong> Software tags reveal AI generation tools</div> <div class="privacy-risk svelte-1dgjmcq"><strong>🔗 C2PA Credentials:</strong> Content provenance tracks creation
        history</div> <div class="privacy-risk svelte-1dgjmcq"><strong>🏷️ Software Tags:</strong> DALL-E, Midjourney, ChatGPT watermarks</div></div> <div class="mt-4 p-3 bg-warning rounded svelte-1dgjmcq"><p class="text-sm"><strong>⚠️</strong> Social media may strip some metadata, but it&#39;s safer
        to clean images yourself.</p></div></div>`,n=S(),s=h("div"),s.innerHTML='<h4 class="font-semibold mb-2">Perfect for:</h4> <div class="grid grid-2 gap-2 text-sm svelte-1dgjmcq"><div>• Journalists protecting sources</div> <div>• Activists maintaining anonymity</div> <div>• AI artists removing generation tags</div> <div>• Content creators stripping watermarks</div> <div>• Social media users protecting privacy</div> <div>• Anyone valuing digital anonymity</div> <div>• Photographers selling stock images</div> <div>• Removing C2PA content credentials</div></div>',i=S(),l=h("div"),l.innerHTML='<h4 class="font-semibold mb-2">🤖 AI Content Credential Support:</h4> <div class="grid grid-3 gap-2 text-sm svelte-1dgjmcq"><div>• OpenAI DALL-E</div> <div>• Midjourney</div> <div>• Stable Diffusion</div> <div>• Adobe Firefly</div> <div>• ChatGPT Images</div> <div>• Google Imagen</div> <div>• C2PA Signatures</div> <div>• Content Authenticity</div> <div>• JUMBF Containers</div></div>',o(e,"class","grid grid-2 gap-6 svelte-1dgjmcq"),o(s,"class","mt-6 p-4 bg-info rounded svelte-1dgjmcq"),o(l,"class","mt-4 p-4 bg-secondary rounded svelte-1dgjmcq")},m(a,r){C(a,e,r),C(a,n,r),C(a,s,r),C(a,i,r),C(a,l,r)},p:G,i:G,o:G,d(a){a&&(y(e),y(n),y(s),y(i),y(l))}}}class Wt extends ne{constructor(e){super(),te(this,e,null,Kt,ee,{})}}function Je(t){let e,n,s,i,l,a,r,f,m,A,_,p,d=t[0].name+"",g,P,b=(t[0].size/1024).toFixed(1)+"",v,U,z,u,F,N,J,V,D,X,j,R,E=t[1]&&qe(t);function L(w,$){if(w[1]&&w[1].message&&!w[1].hasMetadata)return Zt;if(w[1])return Yt}let I=L(t),T=I&&I(t),k=t[4]&&t[1]&&Ve(t);D=new Nt({props:{file:t[0],disabled:t[3]}}),D.$on("processingStart",t[9]),D.$on("processingComplete",t[10]);let M=t[3]&&Ke(),x=t[2]&&We(t);return{c(){e=h("section"),n=h("div"),s=h("div"),i=h("h3"),i.textContent="Original",l=S(),E&&E.c(),a=S(),r=h("div"),f=h("img"),A=S(),_=h("div"),p=h("p"),g=O(d),P=O(" • "),v=O(b),U=O(" KB"),z=S(),T&&T.c(),u=S(),k&&k.c(),F=S(),N=h("div"),J=h("h3"),J.textContent="Clean Metadata",V=S(),ie(D.$$.fragment),X=S(),M&&M.c(),j=S(),x&&x.c(),o(i,"class","text-lg font-semibold"),o(s,"class","flex justify-between items-center mb-3"),pe(f.src,m=URL.createObjectURL(t[0]))||o(f,"src",m),o(f,"alt","Original"),o(f,"class","image-preview svelte-1kc5fup"),o(r,"class","text-center mb-3"),o(_,"class","text-xs text-secondary svelte-1kc5fup"),o(n,"class","card"),o(J,"class","text-lg font-semibold mb-3"),o(N,"class","card"),o(e,"class","grid grid-2 gap-6 svelte-1kc5fup")},m(w,$){C(w,e,$),c(e,n),c(n,s),c(s,i),c(s,l),E&&E.m(s,null),c(n,a),c(n,r),c(r,f),c(n,A),c(n,_),c(_,p),c(p,g),c(p,P),c(p,v),c(p,U),c(_,z),T&&T.m(_,null),c(n,u),k&&k.m(n,null),c(e,F),c(e,N),c(N,J),c(N,V),Z(D,N,null),c(N,X),M&&M.m(N,null),c(N,j),x&&x.m(N,null),R=!0},p(w,$){w[1]?E?E.p(w,$):(E=qe(w),E.c(),E.m(s,null)):E&&(E.d(1),E=null),(!R||$&1&&!pe(f.src,m=URL.createObjectURL(w[0])))&&o(f,"src",m),(!R||$&1)&&d!==(d=w[0].name+"")&&q(g,d),(!R||$&1)&&b!==(b=(w[0].size/1024).toFixed(1)+"")&&q(v,b),I===(I=L(w))&&T?T.p(w,$):(T&&T.d(1),T=I&&I(w),T&&(T.c(),T.m(_,null))),w[4]&&w[1]?k?(k.p(w,$),$&18&&H(k,1)):(k=Ve(w),k.c(),H(k,1),k.m(n,null)):k&&(be(),K(k,1,1,()=>{k=null}),we());const B={};$&1&&(B.file=w[0]),$&8&&(B.disabled=w[3]),D.$set(B),w[3]?M||(M=Ke(),M.c(),M.m(N,j)):M&&(M.d(1),M=null),w[2]?x?x.p(w,$):(x=We(w),x.c(),x.m(N,null)):x&&(x.d(1),x=null)},i(w){R||(H(k),H(D.$$.fragment,w),R=!0)},o(w){K(k),K(D.$$.fragment,w),R=!1},d(w){w&&y(e),E&&E.d(),T&&T.d(),k&&k.d(),Q(D),M&&M.d(),x&&x.d()}}}function qe(t){let e,n=t[4]?"Hide":"Show",s,i,l,a;return{c(){e=h("button"),s=O(n),i=O(" Metadata"),o(e,"class","btn btn-ghost text-sm svelte-1kc5fup")},m(r,f){C(r,e,f),c(e,s),c(e,i),l||(a=W(e,"click",t[12]),l=!0)},p(r,f){f&16&&n!==(n=r[4]?"Hide":"Show")&&q(s,n)},d(r){r&&y(e),l=!1,a()}}}function Yt(t){let e,n,s=Object.keys(t[1]).filter(Qe).length+"",i,l;return{c(){e=h("p"),n=O("⚠️ "),i=O(s),l=O(" metadata entries found"),o(e,"class","text-warning")},m(a,r){C(a,e,r),c(e,n),c(e,i),c(e,l)},p(a,r){r&2&&s!==(s=Object.keys(a[1]).filter(Qe).length+"")&&q(i,s)},d(a){a&&y(e)}}}function Zt(t){let e;return{c(){e=h("p"),e.textContent="✓ No metadata detected",o(e,"class","text-success")},m(n,s){C(n,e,s)},p:G,d(n){n&&y(e)}}}function Ve(t){let e,n,s;return n=new Ut({props:{metadata:t[1]}}),{c(){e=h("div"),ie(n.$$.fragment),o(e,"class","mt-4")},m(i,l){C(i,e,l),Z(n,e,null),s=!0},p(i,l){const a={};l&2&&(a.metadata=i[1]),n.$set(a)},i(i){s||(H(n.$$.fragment,i),s=!0)},o(i){K(n.$$.fragment,i),s=!1},d(i){i&&y(e),Q(n)}}}function Ke(t){let e;return{c(){e=h("div"),e.innerHTML='<div class="progress-bar svelte-1kc5fup"><div class="progress-fill svelte-1kc5fup" style="width: 100%;"></div></div> <p class="text-xs text-secondary mt-1 svelte-1kc5fup">Processing...</p>',o(e,"class","mt-3")},m(n,s){C(n,e,s)},d(n){n&&y(e)}}}function We(t){let e,n,s,i,l,a,r,f,m,A=(t[2].size/1024).toFixed(1)+"",_,p,d=t[2].compressionRatio?`${t[2].compressionRatio>0?"-":"+"}${Math.abs(t[2].compressionRatio)}% size`:"Processed",g,P,b,v,U,z,u,F,N,J,V,D,X,j,R,E,L,I,T,k=t[2].wasSecondPass&&Ye();return{c(){e=h("div"),n=h("h4"),n.textContent="✅ Clean Image",s=S(),i=h("div"),l=h("img"),r=S(),f=h("div"),m=h("p"),_=O(A),p=O(` KB •
                  `),g=O(d),P=S(),k&&k.c(),b=S(),v=h("p"),v.textContent="✓ All EXIF metadata removed",U=S(),z=h("p"),z.textContent="✓ GPS location data cleared",u=S(),F=h("p"),F.textContent="✓ AI content credentials stripped",N=S(),J=h("p"),J.textContent="✓ C2PA provenance data removed",V=S(),D=h("p"),D.textContent="✓ Camera & device info cleared",X=S(),j=h("a"),R=Y("svg"),E=Y("path"),L=O(`
                Download Cleaned Image`),o(n,"class","font-medium mb-2"),pe(l.src,a=t[2].url)||o(l,"src",a),o(l,"alt","Cleaned"),o(l,"class","image-preview svelte-1kc5fup"),o(i,"class","text-center mb-3"),o(v,"class","status-success"),o(z,"class","status-success"),o(F,"class","status-success"),o(J,"class","status-success"),o(D,"class","status-success"),o(f,"class","text-xs text-secondary mb-3 svelte-1kc5fup"),o(E,"fill-rule","evenodd"),o(E,"d","M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"),o(E,"clip-rule","evenodd"),o(R,"width","20"),o(R,"height","20"),o(R,"fill","currentColor"),o(R,"viewBox","0 0 20 20"),o(j,"href",I=t[2].url),o(j,"download",T=t[2].filename),o(j,"class","btn btn-success btn-lg w-full svelte-1kc5fup"),o(e,"class","mt-4 slide-up svelte-1kc5fup")},m(M,x){C(M,e,x),c(e,n),c(e,s),c(e,i),c(i,l),c(e,r),c(e,f),c(f,m),c(m,_),c(m,p),c(m,g),c(f,P),k&&k.m(f,null),c(f,b),c(f,v),c(f,U),c(f,z),c(f,u),c(f,F),c(f,N),c(f,J),c(f,V),c(f,D),c(e,X),c(e,j),c(j,R),c(R,E),c(j,L)},p(M,x){x&4&&!pe(l.src,a=M[2].url)&&o(l,"src",a),x&4&&A!==(A=(M[2].size/1024).toFixed(1)+"")&&q(_,A),x&4&&d!==(d=M[2].compressionRatio?`${M[2].compressionRatio>0?"-":"+"}${Math.abs(M[2].compressionRatio)}% size`:"Processed")&&q(g,d),M[2].wasSecondPass?k||(k=Ye(),k.c(),k.m(f,b)):k&&(k.d(1),k=null),x&4&&I!==(I=M[2].url)&&o(j,"href",I),x&4&&T!==(T=M[2].filename)&&o(j,"download",T)},d(M){M&&y(e),k&&k.d()}}}function Ye(t){let e;return{c(){e=h("p"),e.textContent="⚠️ Used enhanced cleaning (second pass)",o(e,"class","status-warning svelte-1kc5fup")},m(n,s){C(n,e,s)},d(n){n&&y(e)}}}function Ze(t){let e,n;return e=new Wt({}),{c(){ie(e.$$.fragment)},m(s,i){Z(e,s,i),n=!0},i(s){n||(H(e.$$.fragment,s),n=!0)},o(s){K(e.$$.fragment,s),n=!1},d(s){Q(e,s)}}}function Qt(t){let e,n,s,i,l,a,r,f,m,A,_,p,d,g,P,b,v,U=t[5]?"Hide":"Show",z,u,F,N,J,V,D,X,j,R;e=new Xt({props:{darkMode:t[6]}}),e.$on("toggle",t[7]),i=new Jt({}),A=new Ct({props:{disabled:t[3]}}),A.$on("fileSelected",t[8]),A.$on("reset",t[11]);let E=t[0]&&Je(t),L=t[5]&&Ze();return D=new Vt({}),{c(){ie(e.$$.fragment),n=S(),s=h("main"),ie(i.$$.fragment),l=S(),a=h("div"),r=h("section"),f=h("div"),f.innerHTML='<h2 class="text-xl font-bold">Upload Your Image</h2>',m=S(),ie(A.$$.fragment),_=S(),E&&E.c(),p=S(),d=h("section"),g=h("div"),P=h("h2"),P.textContent="🔐 Privacy & Security",b=S(),v=h("button"),z=O(U),u=O(" Details"),F=S(),N=h("div"),N.innerHTML=`<p class="text-sm text-secondary svelte-1kc5fup"><span class="text-success font-semibold">✓</span> 100% client-side
          processing
          <span class="mx-2">•</span> <span class="text-success font-semibold">✓</span> No data collection
          <span class="mx-2">•</span> <span class="text-success font-semibold">✓</span> Open source</p>`,J=S(),L&&L.c(),V=S(),ie(D.$$.fragment),o(f,"class","flex justify-between items-center mb-4"),o(r,"class","card"),o(P,"class","text-xl font-bold"),o(v,"class","btn btn-ghost text-sm svelte-1kc5fup"),o(v,"type","button"),o(g,"class","flex justify-between items-center mb-4"),o(N,"class","mb-3"),o(d,"class","card"),o(a,"class","grid gap-6 svelte-1kc5fup"),o(s,"class","container py-8")},m(I,T){Z(e,I,T),C(I,n,T),C(I,s,T),Z(i,s,null),c(s,l),c(s,a),c(a,r),c(r,f),c(r,m),Z(A,r,null),c(a,_),E&&E.m(a,null),c(a,p),c(a,d),c(d,g),c(g,P),c(g,b),c(g,v),c(v,z),c(v,u),c(d,F),c(d,N),c(d,J),L&&L.m(d,null),C(I,V,T),Z(D,I,T),X=!0,j||(R=W(v,"click",t[13]),j=!0)},p(I,[T]){const k={};T&64&&(k.darkMode=I[6]),e.$set(k);const M={};T&8&&(M.disabled=I[3]),A.$set(M),I[0]?E?(E.p(I,T),T&1&&H(E,1)):(E=Je(I),E.c(),H(E,1),E.m(a,p)):E&&(be(),K(E,1,1,()=>{E=null}),we()),(!X||T&32)&&U!==(U=I[5]?"Hide":"Show")&&q(z,U),I[5]?L?T&32&&H(L,1):(L=Ze(),L.c(),H(L,1),L.m(d,null)):L&&(be(),K(L,1,1,()=>{L=null}),we())},i(I){X||(H(e.$$.fragment,I),H(i.$$.fragment,I),H(A.$$.fragment,I),H(E),H(L),H(D.$$.fragment,I),X=!0)},o(I){K(e.$$.fragment,I),K(i.$$.fragment,I),K(A.$$.fragment,I),K(E),K(L),K(D.$$.fragment,I),X=!1},d(I){I&&(y(n),y(s),y(V)),Q(e,I),Q(i),Q(A),E&&E.d(),L&&L.d(),Q(D,I),j=!1,R()}}}const Qe=t=>!["fileType","hasMetadata","message"].includes(t);function en(t,e,n){let s=null,i=null,l=null,a=!1,r=!1,f=!1,m=!1;ft(()=>{const U=localStorage.getItem("theme");U?n(6,m=U==="dark"):n(6,m=window.matchMedia("(prefers-color-scheme: dark)").matches),A()});function A(){m?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.removeAttribute("data-theme"),localStorage.setItem("theme",m?"dark":"light")}function _(){n(6,m=!m),A()}function p(U){n(0,s=U.detail.file),n(1,i=U.detail.metadata),n(2,l=null),n(4,r=!1)}function d(){n(3,a=!0)}function g(U){n(3,a=!1),n(2,l=U.detail.processedImage)}function P(){n(0,s=null),n(1,i=null),n(2,l=null),n(3,a=!1),n(4,r=!1)}function b(){n(4,r=!r)}function v(){n(5,f=!f)}return[s,i,l,a,r,f,m,_,p,d,g,P,b,v]}class tn extends ne{constructor(e){super(),te(this,e,en,Qt,ee,{})}}new tn({target:document.getElementById("app")});
