var it=Object.defineProperty;var at=(t,e,n)=>e in t?it(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ge=(t,e,n)=>at(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function G(){}function Ze(t){return t()}function Ce(){return Object.create(null)}function oe(t){t.forEach(Ze)}function et(t){return typeof t=="function"}function ee(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let de;function pe(t,e){return t===e?!0:(de||(de=document.createElement("a")),de.href=e,t===de.href)}function rt(t){return Object.keys(t).length===0}function c(t,e){t.appendChild(e)}function I(t,e,n){t.insertBefore(e,n||null)}function C(t){t.parentNode&&t.parentNode.removeChild(t)}function ot(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function g(t){return document.createElement(t)}function Y(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function O(t){return document.createTextNode(t)}function S(){return O(" ")}function tt(){return O("")}function q(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function o(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ct(t){return Array.from(t.childNodes)}function K(t,e){e=""+e,t.data!==e&&(t.data=e)}function ue(t,e,n){t.classList.toggle(e,!!n)}function ft(t,e,{bubbles:n=!1,cancelable:s=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:s})}let fe;function ce(t){fe=t}function nt(){if(!fe)throw new Error("Function called outside component initialization");return fe}function dt(t){nt().$$.on_mount.push(t)}function we(){const t=nt();return(e,n,{cancelable:s=!1}={})=>{const l=t.$$.callbacks[e];if(l){const i=ft(e,n,{cancelable:s});return l.slice().forEach(a=>{a.call(t,i)}),!i.defaultPrevented}return!0}}const ae=[],ve=[];let re=[];const Ie=[],ut=Promise.resolve();let _e=!1;function mt(){_e||(_e=!0,ut.then(st))}function be(t){re.push(t)}const he=new Set;let ie=0;function st(){if(ie!==0)return;const t=fe;do{try{for(;ie<ae.length;){const e=ae[ie];ie++,ce(e),pt(e.$$)}}catch(e){throw ae.length=0,ie=0,e}for(ce(null),ae.length=0,ie=0;ve.length;)ve.pop()();for(let e=0;e<re.length;e+=1){const n=re[e];he.has(n)||(he.add(n),n())}re.length=0}while(ae.length);for(;Ie.length;)Ie.pop()();_e=!1,he.clear(),ce(t)}function pt(t){if(t.fragment!==null){t.update(),oe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(be)}}function gt(t){const e=[],n=[];re.forEach(s=>t.indexOf(s)===-1?e.push(s):n.push(s)),n.forEach(s=>s()),re=e}const me=new Set;let se;function Ae(){se={r:0,c:[],p:se}}function Pe(){se.r||oe(se.c),se=se.p}function V(t,e){t&&t.i&&(me.delete(t),t.i(e))}function W(t,e,n,s){if(t&&t.o){if(me.has(t))return;me.add(t),se.c.push(()=>{me.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}else s&&s()}function Se(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function le(t){t&&t.c()}function Q(t,e,n){const{fragment:s,after_update:l}=t.$$;s&&s.m(e,n),be(()=>{const i=t.$$.on_mount.map(Ze).filter(et);t.$$.on_destroy?t.$$.on_destroy.push(...i):oe(i),t.$$.on_mount=[]}),l.forEach(be)}function Z(t,e){const n=t.$$;n.fragment!==null&&(gt(n.after_update),oe(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ht(t,e){t.$$.dirty[0]===-1&&(ae.push(t),mt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function te(t,e,n,s,l,i,a=null,r=[-1]){const f=fe;ce(t);const d=t.$$={fragment:null,ctx:[],props:i,update:G,not_equal:l,bound:Ce(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:Ce(),dirty:r,skip_bound:!1,root:e.target||f.$$.root};a&&a(d.root);let b=!1;if(d.ctx=n?n(t,e.props||{},(u,h,...p)=>{const v=p.length?p[0]:h;return d.ctx&&l(d.ctx[u],d.ctx[u]=v)&&(!d.skip_bound&&d.bound[u]&&d.bound[u](v),b&&ht(t,u)),h}):[],d.update(),b=!0,oe(d.before_update),d.fragment=s?s(d.ctx):!1,e.target){if(e.hydrate){const u=ct(e.target);d.fragment&&d.fragment.l(u),u.forEach(C)}else d.fragment&&d.fragment.c();e.intro&&V(t.$$.fragment),Q(t,e.target,e.anchor),st()}ce(f)}class ne{constructor(){ge(this,"$$");ge(this,"$$set")}$destroy(){Z(this,1),this.$destroy=G}$on(e,n){if(!et(n))return G;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(n),()=>{const l=s.indexOf(n);l!==-1&&s.splice(l,1)}}$set(e){this.$$set&&!rt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const vt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(vt);const _t="modulepreload",bt=function(t){return"/"+t},Ee={},lt=function(e,n,s){let l=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),r=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));l=Promise.allSettled(n.map(f=>{if(f=bt(f),f in Ee)return;Ee[f]=!0;const d=f.endsWith(".css"),b=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${b}`))return;const u=document.createElement("link");if(u.rel=d?"stylesheet":_t,d||(u.as="script"),u.crossOrigin="",u.href=f,r&&u.setAttribute("nonce",r),document.head.appendChild(u),d)return new Promise((h,p)=>{u.addEventListener("load",h),u.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(a){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=a,window.dispatchEvent(r),!r.defaultPrevented)throw a}return l.then(a=>{for(const r of a||[])r.status==="rejected"&&i(r.reason);return e().catch(i)})};function At(t){let e,n,s,l,i,a=t[1]?"Drop your image here":"Upload Image",r,f,d,b,u,h,p,v,E;return{c(){e=g("div"),n=g("div"),s=g("div"),s.innerHTML='<svg fill="none" stroke="currentColor" viewBox="0 0 48 48"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02"></path></svg>',l=S(),i=g("h3"),r=O(a),f=S(),d=g("p"),d.textContent="Drag and drop your image here, or click to browse",b=S(),u=g("p"),u.textContent="Supports JPEG, PNG, TIFF, HEIC, and AVIF files",h=S(),p=g("input"),o(s,"class","upload-icon"),o(i,"class","text-lg font-semibold mb-2"),o(d,"class","text-secondary mb-4"),o(u,"class","text-sm text-muted"),o(p,"type","file"),o(p,"accept",".jpg,.jpeg,.png,.tiff,.tif,.heic,.avif"),o(p,"class","hidden"),p.disabled=t[0],o(n,"class","upload-area svelte-11wtlra"),o(n,"role","button"),o(n,"tabindex","0"),ue(n,"dragover",t[1]),ue(n,"disabled",t[0]),o(e,"class","upload-section svelte-11wtlra")},m(P,_){I(P,e,_),c(e,n),c(n,s),c(n,l),c(n,i),c(i,r),c(n,f),c(n,d),c(n,b),c(n,u),c(n,h),c(n,p),t[7](p),v||(E=[q(p,"change",t[6]),q(n,"dragover",t[3]),q(n,"dragleave",t[4]),q(n,"drop",t[5]),q(n,"click",t[8]),q(n,"keydown",t[9])],v=!0)},p(P,[_]){_&2&&a!==(a=P[1]?"Drop your image here":"Upload Image")&&K(r,a),_&1&&(p.disabled=P[0]),_&2&&ue(n,"dragover",P[1]),_&1&&ue(n,"disabled",P[0])},i:G,o:G,d(P){P&&C(e),t[7](null),v=!1,oe(E)}}}async function Pt(t){try{const{parse:e}=await lt(async()=>{const{parse:m}=await import("./full.esm--O4zKLWc.js");return{parse:m}},[]);if(!t.type.includes("jpeg")&&!t.type.includes("jpg")&&!t.type.includes("tiff")&&!t.type.includes("png")&&!t.type.includes("heic")&&!t.type.includes("avif"))return console.log("File type doesn't typically contain EXIF data"),{fileType:"other",hasMetadata:!1,message:"This file type typically doesn't contain EXIF metadata"};let s=await e(t,{tiff:!0,exif:!0,gps:!0,interop:!0,iop:!0,makerNote:!0,userComment:!0,xmp:!0,iptc:!0,icc:!0,ihdr:!0,jfif:!0,chunked:!0,firstChunkSize:131072,chunkSize:65536,multiSegment:!0,silentErrors:!1,segments:["APP0","APP1","APP2","APP3","APP4","APP5","APP6","APP7","APP8","APP9","APP10","APP11","APP12","APP13","APP14","APP15"],mergeOutput:!0,translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!1,pick:[],skip:[]})||{},l={};const i=await t.arrayBuffer(),a=new Uint8Array(i);if(l=await wt(a,t.type),s={...s,...l},t.type.includes("png")&&(!s||Object.keys(s).length===0))try{const m=await e(t,{ihdr:!0,itxt:!0,text:!0,ztxt:!0,time:!0,phys:!0,splt:!0,hist:!0,chrm:!0,gama:!0,iccp:!0,sbit:!0,srgb:!0,bkgd:!0,trns:!0,mergeOutput:!1,translateKeys:!1,sanitize:!1});m&&Object.keys(m).length>0&&(s={...s,...m})}catch(m){console.log("PNG-specific parsing failed:",m)}if(!s||Object.keys(s).length===0)return{fileType:t.type.includes("png")?"png":"jpeg",hasMetadata:!1,message:t.type.includes("png")?"PNG files typically don't contain EXIF metadata":"No EXIF data found in this image - image appears to be clean"};const r={},f=Object.keys(s).filter(m=>m.toLowerCase().includes("c2pa")||m.toLowerCase().includes("cai")||m.toLowerCase().includes("provenance")||m.toLowerCase().includes("manifest")||m.toLowerCase().includes("signature")||m.toLowerCase().includes("claim")||m.toLowerCase().includes("assertion")||m.toLowerCase().includes("chatgpt")||m.toLowerCase().includes("openai")||m.toLowerCase().includes("ai_generated")||m.toLowerCase().includes("dall")||m.toLowerCase().includes("midjourney")||m.toLowerCase().includes("stable")||m.toLowerCase().includes("generated"));if(f.length>0){const m={};for(const U of f)m[U]=s[U];r["C2PA/AI Provenance"]=m}(l.C2PA_FOUND||l.AI_SIGNATURES||l.JUMBF_BOXES)&&(r["C2PA/AI Provenance"]||(r["C2PA/AI Provenance"]={}),l.TOTAL_SIGNATURES&&!r["C2PA/AI Provenance"].TOTAL_SIGNATURES&&(r["C2PA/AI Provenance"].TOTAL_SIGNATURES=l.TOTAL_SIGNATURES),l.C2PA_FOUND&&!r["C2PA/AI Provenance"].C2PA_FOUND&&(r["C2PA/AI Provenance"].C2PA_FOUND=l.C2PA_FOUND),l.AI_SIGNATURES&&!r["C2PA/AI Provenance"].AI_SIGNATURES&&(r["C2PA/AI Provenance"].AI_SIGNATURES=l.AI_SIGNATURES),l.JUMBF_BOXES&&!r["C2PA/AI Provenance"].JUMBF_BOXES&&(r["C2PA/AI Provenance"].JUMBF_BOXES=l.JUMBF_BOXES));const d=["latitude","longitude","GPSLatitude","GPSLongitude","GPSAltitude","GPSSpeed","GPSImgDirection","GPSDestBearing","GPSDateTime","GPSLatitudeRef","GPSLongitudeRef"],b={};for(const m of d)s[m]!==void 0&&(b[m]=s[m]);Object.keys(b).length>0&&(r.GPS=b);const u=["Make","Model","Software","DateTime","DateTimeOriginal","DateTimeDigitized","ExposureTime","FNumber","ISO","Flash","FocalLength","WhiteBalance","LensModel","LensMake","Artist","Copyright"],h={};for(const m of u)s[m]!==void 0&&(h[m]=s[m]);Object.keys(h).length>0&&(r.Camera=h);const p=["ColorSpace","Orientation","ResolutionUnit","XResolution","YResolution","ExifVersion","ComponentsConfiguration","ImageWidth","ImageHeight"],v={};for(const m of p)s[m]!==void 0&&(v[m]=s[m]);Object.keys(v).length>0&&(r.Technical=v);const E=Object.keys(s).filter(m=>m.toLowerCase().includes("xmp")||m.includes("Creator")||m.includes("Subject"));if(E.length>0){const m={};for(const U of E)m[U]=s[U];r.XMP=m}const P=Object.keys(s).filter(m=>m.toLowerCase().includes("iptc")||m.includes("Keywords")||m.includes("Caption"));if(P.length>0){const m={};for(const U of P)m[U]=s[U];r.IPTC=m}const _=Object.keys(s).filter(m=>m.toLowerCase().includes("text")||m.toLowerCase().includes("itxt")||m.toLowerCase().includes("ztxt")||m.toLowerCase().includes("time")||m.toLowerCase().includes("phys")||m.toLowerCase().includes("hist")||m.toLowerCase().includes("chrm")||m.toLowerCase().includes("gama")||m.toLowerCase().includes("srgb")||m.toLowerCase().includes("iccp"));if(_.length>0){const m={};for(const U of _)m[U]=s[U];r["PNG Chunks"]=m}const L=Object.keys(s).filter(m=>m.includes("Profile")||m.includes("ColorSpace")||m.includes("WhitePoint")||m.includes("PrimaryChromaticities")||m.includes("ICC"));if(L.length>0){const m={};for(const U of L)m[U]=s[U];r["Color Profile"]=m}const X=Object.keys(s).filter(m=>!d.includes(m)&&!u.includes(m)&&!p.includes(m)&&!E.includes(m)&&!P.includes(m)&&!_.includes(m)&&!f.includes(m)&&!L.includes(m)&&(m.includes("User")||m.includes("Comment")||m.includes("Description")||m.includes("AI")||m.includes("Generated")||m.includes("Thumbnail")||m.includes("Preview")));if(X.length>0){const m={};for(const U of X)m[U]=s[U];r.Other=m}return(l.TOTAL_SIGNATURES>0||l.METADATA_MARKERS>0)&&(r["Raw Analysis"]={"Total Signatures Found":l.TOTAL_SIGNATURES||0,"Metadata Markers":l.METADATA_MARKERS||0,"File Contains Binary Metadata":!0}),console.log("Extracted metadata with exifr:",r),console.log("Raw exifr data:",s),console.log("Raw binary analysis:",l),r}catch(e){return console.log("Error extracting metadata:",e.message),{fileType:t.type.includes("jpeg")||t.type.includes("jpg")?"jpeg":t.type.includes("png")?"png":"other",hasMetadata:!1,message:t.type.includes("png")?"PNG files typically don't contain EXIF metadata":e.message.includes("not supported")||e.message.includes("invalid")?"No EXIF data found in this image":"Image appears to be clean (no metadata found)"}}}async function wt(t,e){const n={TOTAL_SIGNATURES:0,METADATA_MARKERS:0},s=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!1});let l="";const i=1024;for(let p=0;p<Math.min(t.length,1024*1024);p+=i){const v=t.slice(p,Math.min(p+i,t.length));try{l+=s.decode(v,{stream:!0})}catch{}}const a=["c2pa.manifest","c2pa.signature","c2pa.assertions","contentauthenticity.org","adobe.com/cai","CASS","c2pa.created","c2pa.converted"],r=["ChatGPT","OpenAI API","DALL-E","dall-e-","Midjourney","Stable Diffusion","AI-generated","trainedAlgorithmicMedia","digitalSourceType","GPT-4","generated","synthesized"],f=["jumb","JUMB","jumd","JUMD"];let d=[];for(const p of a)(l.includes(p)||l.toLowerCase().includes(p.toLowerCase()))&&(d.push(p),n.TOTAL_SIGNATURES++);d.length>0&&(n.C2PA_FOUND=d);let b=[];for(const p of r)if(l.includes(p)||l.toLowerCase().includes(p.toLowerCase())){const v=l.toLowerCase(),E=p.toLowerCase();v.includes(E)&&(p.length>4||v.includes(E+" ")||v.includes(" "+E)||v.includes(E+":")||v.includes(E+"=")||v.includes('"'+E+'"'))&&(b.push(p),n.TOTAL_SIGNATURES++)}b.length>0&&(n.AI_SIGNATURES=b);let u=[];for(const p of f)l.toLowerCase().includes(p.toLowerCase())&&(u.push(p),n.TOTAL_SIGNATURES++);u.length>0&&(n.JUMBF_BOXES=u);const h=["EXIF\0","IPTC","XMP\0","ICC_PROFILE","Photoshop 3.0","Adobe_CM","GPS\0"];for(const p of h)l.includes(p)&&n.METADATA_MARKERS++;if(e.includes("jpeg")||e.includes("jpg")){const p=new Uint8Array([255,235]),v=new Uint8Array([255,226]);let E=!1,P=!1;for(let _=0;_<t.length-10;_++){if(t[_]===p[0]&&t[_+1]===p[1]){E=!0;break}if(t[_]===v[0]&&t[_+1]===v[1]){const L=l.slice(_,_+100).toLowerCase();(L.includes("c2pa")||L.includes("cai")||L.includes("jumb"))&&(P=!0)}}(E||P)&&(n.JUMBF_BOXES||(n.JUMBF_BOXES=[]),E&&n.JUMBF_BOXES.push("APP11_segment"),P&&n.JUMBF_BOXES.push("APP2_segment"),n.TOTAL_SIGNATURES++)}return n}function yt(t,e,n){const s=we();let{disabled:l=!1}=e,i=!1,a;const r=["image/jpeg","image/jpg","image/png","image/tiff","image/heic","image/avif"];function f(P){P.preventDefault(),l||n(1,i=!0)}function d(P){P.preventDefault(),n(1,i=!1)}function b(P){if(P.preventDefault(),n(1,i=!1),l)return;const _=P.dataTransfer.files;_.length>0&&h(_[0])}function u(P){if(l)return;const _=P.target.files;_.length>0&&h(_[0])}async function h(P){if(!r.includes(P.type)){alert("Please select a supported image file (JPEG, PNG, TIFF, HEIC, or AVIF).");return}try{const _=await Pt(P);s("fileSelected",{file:P,metadata:_})}catch(_){console.error("Error processing file:",_),alert("Error processing the file. Please try again.")}}function p(P){ve[P?"unshift":"push"](()=>{a=P,n(2,a)})}const v=()=>!l&&a.click(),E=P=>(P.key==="Enter"||P.key===" ")&&!l&&a.click();return t.$$set=P=>{"disabled"in P&&n(0,l=P.disabled)},[l,i,a,f,d,b,u,p,v,E]}class Ct extends ne{constructor(e){super(),te(this,e,yt,At,ee,{disabled:0})}}function Te(t,e,n){const s=t.slice();return s[4]=e[n],s}function ke(t){let e;return{c(){e=g("span"),e.textContent="‚ö†Ô∏è Contains AI-related tags",o(e,"class","status-warning py-1 px-2 text-xs")},m(n,s){I(n,e,s)},d(n){n&&C(e)}}}function It(t){let e,n,s,l,i,a=t[1].totalEntries+"",r,f,d,b,u,h,p,v,E,P,_,L,X,m,U,D,B,J=t[0].Other&&Object.keys(t[0].Other).length>0,j,H=Se(t[1].sections),$=[];for(let A=0;A<H.length;A+=1)$[A]=Me(Te(t,H,A));let F=t[0].GPS&&Oe(),w=t[0].Camera&&Le(),T=t[0].Technical&&Ue(),y=t[2]&&Re(t),k=t[0].XMP&&De(),M=t[0].IPTC&&Ge(),R=J&&Be(),N=t[0]["Color Profile"]&&ze();return{c(){e=g("div"),n=g("div"),s=g("p"),l=g("strong"),l.textContent="Total entries:",i=S(),r=O(a),f=S(),d=g("div");for(let A=0;A<$.length;A+=1)$[A].c();b=S(),u=g("div"),h=O(t[3]),p=S(),v=g("div"),E=g("h5"),E.textContent="Privacy Concerns Found:",P=S(),_=g("ul"),F&&F.c(),L=S(),w&&w.c(),X=S(),T&&T.c(),m=S(),y&&y.c(),U=S(),k&&k.c(),D=S(),M&&M.c(),B=S(),R&&R.c(),j=S(),N&&N.c(),o(s,"class","text-sm text-secondary"),o(d,"class","text-xs text-muted mt-1"),o(n,"class","metadata-summary svelte-17zmybm"),o(e,"class","mb-4"),o(u,"class","metadata-viewer"),o(E,"class","font-medium mb-2"),o(_,"class","text-sm text-secondary space-y-1 svelte-17zmybm"),o(v,"class","mt-4")},m(A,x){I(A,e,x),c(e,n),c(n,s),c(s,l),c(s,i),c(s,r),c(n,f),c(n,d);for(let z=0;z<$.length;z+=1)$[z]&&$[z].m(d,null);I(A,b,x),I(A,u,x),c(u,h),I(A,p,x),I(A,v,x),c(v,E),c(v,P),c(v,_),F&&F.m(_,null),c(_,L),w&&w.m(_,null),c(_,X),T&&T.m(_,null),c(_,m),y&&y.m(_,null),c(_,U),k&&k.m(_,null),c(_,D),M&&M.m(_,null),c(_,B),R&&R.m(_,null),c(v,j),N&&N.m(v,null)},p(A,x){if(x&2&&a!==(a=A[1].totalEntries+"")&&K(r,a),x&2){H=Se(A[1].sections);let z;for(z=0;z<H.length;z+=1){const ye=Te(A,H,z);$[z]?$[z].p(ye,x):($[z]=Me(ye),$[z].c(),$[z].m(d,null))}for(;z<$.length;z+=1)$[z].d(1);$.length=H.length}x&8&&K(h,A[3]),A[0].GPS?F||(F=Oe(),F.c(),F.m(_,L)):F&&(F.d(1),F=null),A[0].Camera?w||(w=Le(),w.c(),w.m(_,X)):w&&(w.d(1),w=null),A[0].Technical?T||(T=Ue(),T.c(),T.m(_,m)):T&&(T.d(1),T=null),A[2]?y?y.p(A,x):(y=Re(A),y.c(),y.m(_,U)):y&&(y.d(1),y=null),A[0].XMP?k||(k=De(),k.c(),k.m(_,D)):k&&(k.d(1),k=null),A[0].IPTC?M||(M=Ge(),M.c(),M.m(_,B)):M&&(M.d(1),M=null),x&1&&(J=A[0].Other&&Object.keys(A[0].Other).length>0),J?R||(R=Be(),R.c(),R.m(_,null)):R&&(R.d(1),R=null),A[0]["Color Profile"]?N||(N=ze(),N.c(),N.m(v,null)):N&&(N.d(1),N=null)},d(A){A&&(C(e),C(b),C(u),C(p),C(v)),ot($,A),F&&F.d(),w&&w.d(),T&&T.d(),y&&y.d(),k&&k.d(),M&&M.d(),R&&R.d(),N&&N.d()}}}function St(t){let e,n,s;function l(f,d){return f[0].message?Tt:Et}let i=l(t),a=i(t),r=t[0].fileType==="png"&&Xe();return{c(){e=g("div"),a.c(),n=S(),r&&r.c(),s=tt(),o(e,"class","status-success")},m(f,d){I(f,e,d),a.m(e,null),I(f,n,d),r&&r.m(f,d),I(f,s,d)},p(f,d){i===(i=l(f))&&a?a.p(f,d):(a.d(1),a=i(f),a&&(a.c(),a.m(e,null))),f[0].fileType==="png"?r||(r=Xe(),r.c(),r.m(s.parentNode,s)):r&&(r.d(1),r=null)},d(f){f&&(C(e),C(n),C(s)),a.d(),r&&r.d(f)}}}function Me(t){let e,n=t[4]+"",s;return{c(){e=g("span"),s=O(n),o(e,"class","section-tag svelte-17zmybm")},m(l,i){I(l,e,i),c(e,s)},p(l,i){i&2&&n!==(n=l[4]+"")&&K(s,n)},d(l){l&&C(e)}}}function Oe(t){let e;return{c(){e=g("li"),e.textContent="üìç GPS location data",o(e,"class","status-warning svelte-17zmybm")},m(n,s){I(n,e,s)},d(n){n&&C(e)}}}function Le(t){let e;return{c(){e=g("li"),e.textContent="üì∑ Camera information",o(e,"class","status-warning svelte-17zmybm")},m(n,s){I(n,e,s)},d(n){n&&C(e)}}}function Ue(t){let e;return{c(){e=g("li"),e.textContent="üñºÔ∏è Image creation details",o(e,"class","status-warning svelte-17zmybm")},m(n,s){I(n,e,s)},d(n){n&&C(e)}}}function Re(t){let e,n,s,l=t[0]["C2PA/AI Provenance"]&&Fe(t);return{c(){e=g("li"),e.textContent="ü§ñ AI generation indicators",n=S(),l&&l.c(),s=tt(),o(e,"class","status-warning svelte-17zmybm")},m(i,a){I(i,e,a),I(i,n,a),l&&l.m(i,a),I(i,s,a)},p(i,a){i[0]["C2PA/AI Provenance"]?l?l.p(i,a):(l=Fe(i),l.c(),l.m(s.parentNode,s)):l&&(l.d(1),l=null)},d(i){i&&(C(e),C(n),C(s)),l&&l.d(i)}}}function Fe(t){let e,n,s,l,i=t[0]["C2PA/AI Provenance"].AI_SIGNATURES&&t[0]["C2PA/AI Provenance"].AI_SIGNATURES.length>0&&$e(t),a=t[0]["C2PA/AI Provenance"].C2PA_FOUND&&t[0]["C2PA/AI Provenance"].C2PA_FOUND.length>0&&Ne(t),r=t[0]["C2PA/AI Provenance"].TOTAL_SIGNATURES&&t[0]["C2PA/AI Provenance"].TOTAL_SIGNATURES>0&&xe(t),f=t[0]["C2PA/AI Provenance"].JUMBF_BOXES&&t[0]["C2PA/AI Provenance"].JUMBF_BOXES.length>0&&je(t);return{c(){e=g("ul"),i&&i.c(),n=S(),a&&a.c(),s=S(),r&&r.c(),l=S(),f&&f.c(),o(e,"class","ml-4 mt-1 text-xs svelte-17zmybm")},m(d,b){I(d,e,b),i&&i.m(e,null),c(e,n),a&&a.m(e,null),c(e,s),r&&r.m(e,null),c(e,l),f&&f.m(e,null)},p(d,b){d[0]["C2PA/AI Provenance"].AI_SIGNATURES&&d[0]["C2PA/AI Provenance"].AI_SIGNATURES.length>0?i?i.p(d,b):(i=$e(d),i.c(),i.m(e,n)):i&&(i.d(1),i=null),d[0]["C2PA/AI Provenance"].C2PA_FOUND&&d[0]["C2PA/AI Provenance"].C2PA_FOUND.length>0?a?a.p(d,b):(a=Ne(d),a.c(),a.m(e,s)):a&&(a.d(1),a=null),d[0]["C2PA/AI Provenance"].TOTAL_SIGNATURES&&d[0]["C2PA/AI Provenance"].TOTAL_SIGNATURES>0?r?r.p(d,b):(r=xe(d),r.c(),r.m(e,l)):r&&(r.d(1),r=null),d[0]["C2PA/AI Provenance"].JUMBF_BOXES&&d[0]["C2PA/AI Provenance"].JUMBF_BOXES.length>0?f?f.p(d,b):(f=je(d),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(d){d&&C(e),i&&i.d(),a&&a.d(),r&&r.d(),f&&f.d()}}}function $e(t){let e,n,s=t[0]["C2PA/AI Provenance"].AI_SIGNATURES.join(", ")+"",l;return{c(){e=g("li"),n=O("‚Ä¢ AI Tools: "),l=O(s)},m(i,a){I(i,e,a),c(e,n),c(e,l)},p(i,a){a&1&&s!==(s=i[0]["C2PA/AI Provenance"].AI_SIGNATURES.join(", ")+"")&&K(l,s)},d(i){i&&C(e)}}}function Ne(t){let e,n,s=t[0]["C2PA/AI Provenance"].C2PA_FOUND.length+"",l,i;return{c(){e=g("li"),n=O("‚Ä¢ C2PA Provenance: "),l=O(s),i=O(" signature(s)")},m(a,r){I(a,e,r),c(e,n),c(e,l),c(e,i)},p(a,r){r&1&&s!==(s=a[0]["C2PA/AI Provenance"].C2PA_FOUND.length+"")&&K(l,s)},d(a){a&&C(e)}}}function xe(t){let e,n,s=t[0]["C2PA/AI Provenance"].TOTAL_SIGNATURES+"",l;return{c(){e=g("li"),n=O("‚Ä¢ Total AI/C2PA markers: "),l=O(s)},m(i,a){I(i,e,a),c(e,n),c(e,l)},p(i,a){a&1&&s!==(s=i[0]["C2PA/AI Provenance"].TOTAL_SIGNATURES+"")&&K(l,s)},d(i){i&&C(e)}}}function je(t){let e,n,s=t[0]["C2PA/AI Provenance"].JUMBF_BOXES.length+"",l;return{c(){e=g("li"),n=O("‚Ä¢ JUMBF metadata containers: "),l=O(s)},m(i,a){I(i,e,a),c(e,n),c(e,l)},p(i,a){a&1&&s!==(s=i[0]["C2PA/AI Provenance"].JUMBF_BOXES.length+"")&&K(l,s)},d(i){i&&C(e)}}}function De(t){let e;return{c(){e=g("li"),e.textContent="üìù XMP metadata",o(e,"class","status-warning svelte-17zmybm")},m(n,s){I(n,e,s)},d(n){n&&C(e)}}}function Ge(t){let e;return{c(){e=g("li"),e.textContent="üìã IPTC metadata",o(e,"class","status-warning svelte-17zmybm")},m(n,s){I(n,e,s)},d(n){n&&C(e)}}}function Be(t){let e;return{c(){e=g("li"),e.textContent="üìÑ Other metadata",o(e,"class","status-warning svelte-17zmybm")},m(n,s){I(n,e,s)},d(n){n&&C(e)}}}function ze(t){let e;return{c(){e=g("div"),e.innerHTML=`<p><strong>‚ÑπÔ∏è Color Profile:</strong> Contains ICC color management data
            (not privacy-concerning)</p>`,o(e,"class","mt-3 p-2 bg-info rounded text-xs")},m(n,s){I(n,e,s)},d(n){n&&C(e)}}}function Et(t){let e;return{c(){e=O("‚úÖ No metadata found - image is already clean!")},m(n,s){I(n,e,s)},p:G,d(n){n&&C(e)}}}function Tt(t){let e,n=t[0].message+"",s;return{c(){e=O("‚úÖ "),s=O(n)},m(l,i){I(l,e,i),I(l,s,i)},p(l,i){i&1&&n!==(n=l[0].message+"")&&K(s,n)},d(l){l&&(C(e),C(s))}}}function Xe(t){let e;return{c(){e=g("div"),e.innerHTML=`<p><strong>‚ÑπÔ∏è About PNG files:</strong></p> <p>PNG files typically don&#39;t contain EXIF metadata. However, you can
          still process this image to ensure it&#39;s completely clean and remove
          any potential hidden data.</p>`,o(e,"class","mt-3 p-3 bg-info rounded text-sm")},m(n,s){I(n,e,s)},d(n){n&&C(e)}}}function kt(t){let e,n,s,l,i,a,r=t[2]&&ke();function f(u,h){return h&1&&(a=null),a==null&&(a=!!(Object.keys(u[0]).length===0||u[0].message&&!u[0].hasMetadata)),a?St:It}let d=f(t,-1),b=d(t);return{c(){e=g("div"),n=g("div"),s=g("h4"),s.textContent="EXIF Metadata",l=S(),r&&r.c(),i=S(),b.c(),o(s,"class","font-semibold"),o(n,"class","flex justify-between items-center mb-4"),o(e,"class","metadata-section")},m(u,h){I(u,e,h),c(e,n),c(n,s),c(n,l),r&&r.m(n,null),c(e,i),b.m(e,null)},p(u,[h]){u[2]?r||(r=ke(),r.c(),r.m(n,null)):r&&(r.d(1),r=null),d===(d=f(u,h))&&b?b.p(u,h):(b.d(1),b=d(u),b&&(b.c(),b.m(e,null)))},i:G,o:G,d(u){u&&C(e),r&&r.d(),b.d()}}}function Mt(t){if(!t||Object.keys(t).length===0)return"No metadata found";if(t.message&&!t.hasMetadata)return t.message;let e="";return Object.entries(t).forEach(([n,s])=>{n==="fileType"||n==="hasMetadata"||n==="message"||(e+=`[${n}]
`,typeof s=="object"&&s!==null&&Object.entries(s).forEach(([l,i])=>{let a;Array.isArray(i)?a=`[${i.join(", ")}]`:typeof i=="string"&&i.length>100?a=i.substring(0,100)+"...":a=i,e+=`  ${l}: ${a}
`}),e+=`
`)}),e.trim()}function Ot(t){let e=0,n=[];return t.message&&!t.hasMetadata?{totalEntries:0,sections:[]}:(Object.entries(t).forEach(([s,l])=>{if(!(s==="fileType"||s==="hasMetadata"||s==="message")&&typeof l=="object"&&l!==null){const i=Object.keys(l).length;e+=i,n.push(`${s}: ${i} entries`)}}),{totalEntries:e,sections:n})}function Lt(t){if(t["C2PA/AI Provenance"]){const s=t["C2PA/AI Provenance"];if(s.AI_SIGNATURES&&Array.isArray(s.AI_SIGNATURES)&&s.AI_SIGNATURES.length>0||s.C2PA_FOUND&&Array.isArray(s.C2PA_FOUND)&&s.C2PA_FOUND.length>0||s.JUMBF_BOXES&&Array.isArray(s.JUMBF_BOXES)&&s.JUMBF_BOXES.filter(i=>!i.includes("APP2_segment")||i.includes("jumb")||i.includes("JUMB")||i.includes("jumd")||i.includes("JUMD")).length>0||s.TOTAL_SIGNATURES&&s.TOTAL_SIGNATURES>1)return!0}const e=["chatgpt","openai","dall-e","dalle","midjourney","stable diffusion","artificial intelligence","ai-generated","machine learning","neural network","synthesized","gpt-4","trainedAlgorithmicMedia"];let n=!1;return Object.entries(t).forEach(([s,l])=>{s==="fileType"||s==="hasMetadata"||s==="message"||s==="Raw Analysis"||s==="C2PA/AI Provenance"||typeof l=="object"&&l!==null&&Object.entries(l).forEach(([i,a])=>{const r=String(a).toLowerCase();e.some(f=>r.includes(f.toLowerCase()))&&(n=!0)})}),n}function Ut(t,e,n){let s,l,i,{metadata:a={}}=e;return t.$$set=r=>{"metadata"in r&&n(0,a=r.metadata)},t.$$.update=()=>{t.$$.dirty&1&&n(3,s=Mt(a)),t.$$.dirty&1&&n(2,l=Lt(a)),t.$$.dirty&1&&n(1,i=Ot(a))},[a,i,l,s]}class Rt extends ne{constructor(e){super(),te(this,e,Ut,kt,ee,{metadata:0})}}function Ft(t){let e,n,s;return{c(){e=Y("svg"),n=Y("path"),s=O(`
        Remove Metadata`),o(n,"fill-rule","evenodd"),o(n,"d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"),o(n,"clip-rule","evenodd"),o(e,"width","20"),o(e,"height","20"),o(e,"fill","currentColor"),o(e,"viewBox","0 0 20 20")},m(l,i){I(l,e,i),c(e,n),I(l,s,i)},d(l){l&&(C(e),C(s))}}}function $t(t){let e,n,s;return{c(){e=Y("svg"),n=Y("path"),s=O(`
        Processing...`),o(n,"fill-rule","evenodd"),o(n,"d","M4 2a2 2 0 00-2 2v11a2 2 0 002 2h12a2 2 0 002-2V4a2 2 0 00-2-2H4zm0 2h12v11H4V4z"),o(n,"clip-rule","evenodd"),o(e,"class","animate-spin svelte-1c0mwhx"),o(e,"width","20"),o(e,"height","20"),o(e,"fill","currentColor"),o(e,"viewBox","0 0 20 20")},m(l,i){I(l,e,i),c(e,n),I(l,s,i)},d(l){l&&(C(e),C(s))}}}function Nt(t){let e,n,s,l,i,a,r,f,d;function b(p,v){return p[0]?$t:Ft}let u=b(t),h=u(t);return{c(){e=g("div"),n=g("div"),s=g("p"),s.textContent=`Remove all EXIF metadata from your image to protect your privacy. This
      process happens entirely in your browser - no data is sent to any server.`,l=S(),i=g("button"),h.c(),a=S(),r=g("div"),r.innerHTML=`<h4 class="font-semibold mb-3">What gets removed:</h4> <div class="grid grid-2 gap-3 text-sm"><div class="flex items-center gap-2"><span class="text-success svelte-1c0mwhx">‚úì</span>
        GPS location data</div> <div class="flex items-center gap-2"><span class="text-success svelte-1c0mwhx">‚úì</span>
        Camera make &amp; model</div> <div class="flex items-center gap-2"><span class="text-success svelte-1c0mwhx">‚úì</span>
        Date &amp; time taken</div> <div class="flex items-center gap-2"><span class="text-success svelte-1c0mwhx">‚úì</span>
        Camera settings</div> <div class="flex items-center gap-2"><span class="text-success svelte-1c0mwhx">‚úì</span>
        Software information</div> <div class="flex items-center gap-2"><span class="text-success svelte-1c0mwhx">‚úì</span>
        AI generation tags</div></div>`,o(s,"class","text-secondary mb-4"),o(i,"class","btn btn-primary btn-lg"),i.disabled=t[0],o(n,"class","text-center mb-6"),o(r,"class","privacy-features svelte-1c0mwhx"),o(e,"class","processor-section")},m(p,v){I(p,e,v),c(e,n),c(n,s),c(n,l),c(n,i),h.m(i,null),c(e,a),c(e,r),f||(d=q(i,"click",t[1]),f=!0)},p(p,[v]){u!==(u=b(p))&&(h.d(1),h=u(p),h&&(h.c(),h.m(i,null))),v&1&&(i.disabled=p[0])},i:G,o:G,d(p){p&&C(e),h.d(),f=!1,d()}}}function xt(t,e,n){const s=we();let{file:l}=e,{disabled:i=!1}=e;async function a(){if(!(!l||i)){s("processingStart");try{const u=new Image;u.onload=function(){try{const h=document.createElement("canvas"),p=h.getContext("2d");h.width=u.width,h.height=u.height,p.clearRect(0,0,h.width,h.height),p.drawImage(u,0,0);let v="image/jpeg",E=.92;l.type==="image/png"&&u.width*u.height<1e6&&(v="image/png",E=void 0),h.toBlob(P=>{if(P)r(P,l);else throw new Error("Failed to create blob from canvas")},v,E)}catch(h){console.error("Error processing with canvas:",h),b()}},u.onerror=function(){console.error("Error loading image"),b()},u.src=URL.createObjectURL(l)}catch(u){console.error("Error in processImage:",u),b()}}}async function r(u,h){try{const{parse:p}=await lt(async()=>{const{parse:P}=await import("./full.esm--O4zKLWc.js");return{parse:P}},[]),v=await p(u,{tiff:!0,exif:!0,gps:!0,xmp:!0,iptc:!0,icc:!0,silentErrors:!0});v&&Object.keys(v).length>0?(console.warn("Some metadata may still be present:",v),await f(u,h)):(console.log("‚úÖ Image successfully cleaned - no metadata detected"),d(u,h))}catch(p){console.log("Could not verify metadata removal (this is usually okay):",p),d(u,h)}}async function f(u,h){try{console.log("Performing second pass metadata removal...");const p=new Image;p.onload=function(){const v=document.createElement("canvas"),E=v.getContext("2d");v.width=p.width,v.height=p.height,E.clearRect(0,0,v.width,v.height),E.fillStyle="#FFFFFF",E.fillRect(0,0,v.width,v.height),E.drawImage(p,0,0),v.toBlob(P=>{P?(console.log("‚úÖ Second pass completed"),d(P,h,!0)):d(u,h)},"image/jpeg",.95)},p.onerror=()=>d(u,h),p.src=URL.createObjectURL(u)}catch(p){console.error("Second pass failed:",p),d(u,h)}}function d(u,h,p=!1){const v=URL.createObjectURL(u),E=h.name.split(".").pop(),P=h.name.replace(new RegExp(`\\.${E}$`,"i"),"");let _=E;u.type==="image/jpeg"?_="jpg":u.type==="image/png"&&(_="png");const L=`${P}-cleaned.${_}`;s("processingComplete",{processedImage:{url:v,filename:L,size:u.size,wasSecondPass:p,originalSize:h.size,compressionRatio:((h.size-u.size)/h.size*100).toFixed(1)}})}function b(){const u=URL.createObjectURL(l),h=l.name.split(".").pop(),v=`${l.name.replace(new RegExp(`\\.${h}$`,"i"),"")}-cleaned.${h}`;s("processingComplete",{processedImage:{url:u,filename:v,size:l.size}})}return t.$$set=u=>{"file"in u&&n(2,l=u.file),"disabled"in u&&n(0,i=u.disabled)},[i,a,l]}class jt extends ne{constructor(e){super(),te(this,e,xt,Nt,ee,{file:2,disabled:0})}}function Dt(t){let e,n;return{c(){e=Y("svg"),n=Y("path"),o(n,"d","M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"),o(e,"width","24"),o(e,"height","24"),o(e,"fill","currentColor"),o(e,"viewBox","0 0 20 20")},m(s,l){I(s,e,l),c(e,n)},d(s){s&&C(e)}}}function Gt(t){let e,n;return{c(){e=Y("svg"),n=Y("path"),o(n,"fill-rule","evenodd"),o(n,"d","M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"),o(n,"clip-rule","evenodd"),o(e,"width","24"),o(e,"height","24"),o(e,"fill","currentColor"),o(e,"viewBox","0 0 20 20")},m(s,l){I(s,e,l),c(e,n)},d(s){s&&C(e)}}}function Bt(t){let e,n,s;function l(r,f){return r[0]?Gt:Dt}let i=l(t),a=i(t);return{c(){e=g("button"),a.c(),o(e,"class","theme-toggle"),o(e,"aria-label","Toggle dark mode"),o(e,"title","Toggle dark mode")},m(r,f){I(r,e,f),a.m(e,null),n||(s=q(e,"click",t[1]),n=!0)},p(r,[f]){i!==(i=l(r))&&(a.d(1),a=i(r),a&&(a.c(),a.m(e,null)))},i:G,o:G,d(r){r&&C(e),a.d(),n=!1,s()}}}function zt(t,e,n){const s=we();let{darkMode:l=!1}=e;function i(){s("toggle")}return t.$$set=a=>{"darkMode"in a&&n(0,l=a.darkMode)},[l,i]}class Xt extends ne{constructor(e){super(),te(this,e,zt,Bt,ee,{darkMode:0})}}function Jt(t){let e;return{c(){e=g("header"),e.innerHTML='<div class="flex items-center justify-center gap-3 mb-3"><div class="logo svelte-1v2gyoy"><svg width="40" height="40" viewBox="0 0 48 48" fill="none"><rect width="48" height="48" rx="12" fill="var(--primary-color)"></rect><path d="M12 18h24v12H12V18z" stroke="white" stroke-width="2" fill="none"></path><path d="M16 22l4 4 8-8" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M32 14l4 4-4 4" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></div> <div><h1 class="text-2xl font-bold">Untrace</h1> <p class="text-base text-secondary">Remove metadata. Protect privacy.</p></div></div> <p class="text-sm text-secondary max-w-xl mx-auto svelte-1v2gyoy"><strong>100% browser-based</strong> metadata removal tool. No uploads, no tracking.</p>',o(e,"class","text-center mb-6")},m(n,s){I(n,e,s)},p:G,i:G,o:G,d(n){n&&C(e)}}}class Ht extends ne{constructor(e){super(),te(this,e,null,Jt,ee,{})}}function Vt(t){let e;return{c(){e=g("footer"),e.innerHTML=`<div class="container"><div class="grid grid-2 gap-8 mb-6"><div><h3 class="font-semibold mb-3">About Untrace</h3> <p class="text-sm text-secondary">A privacy-first tool that removes EXIF metadata from images completely
          in your browser. No servers, no tracking, no data collection.</p></div> <div><h3 class="font-semibold mb-3">Open Source</h3> <p class="text-sm text-secondary mb-2">Built with Svelte and deployed on GitHub Pages.</p> <a href="https://github.com/developersharif/untrace" class="btn btn-secondary text-sm" target="_blank" rel="noopener noreferrer"><svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>
          View Source</a></div></div> <div class="text-sm text-muted"><p>¬© 2025 Untrace. Built for privacy advocates, journalists, and digital
        rights.</p> <p class="mt-1">No analytics ‚Ä¢ No tracking ‚Ä¢ No data collection</p></div></div>`,o(e,"class","mt-12 py-8 border-t border-color text-center svelte-1vngk71")},m(n,s){I(n,e,s)},p:G,i:G,o:G,d(n){n&&C(e)}}}class Kt extends ne{constructor(e){super(),te(this,e,null,Vt,ee,{})}}function Wt(t){let e,n,s;return{c(){e=g("div"),e.innerHTML=`<div><h3 class="font-semibold mb-3 flex items-center gap-2"><span class="text-success svelte-g396ot">‚úì</span>
      Client-Side Processing</h3> <p class="text-sm text-secondary mb-4">Images never leave your browser. Processing happens locally.</p> <h3 class="font-semibold mb-3 flex items-center gap-2"><span class="text-success svelte-g396ot">‚úì</span>
      No Data Collection</h3> <p class="text-sm text-secondary mb-4">No analytics, tracking, or data collection.</p> <h3 class="font-semibold mb-3 flex items-center gap-2"><span class="text-success svelte-g396ot">‚úì</span>
      Open Source</h3> <p class="text-sm text-secondary">Fully auditable codebase. Verify what happens to your data.</p></div> <div><h3 class="font-semibold mb-3">Why Remove Metadata?</h3> <div class="space-y-3 text-sm text-secondary svelte-g396ot"><div class="privacy-risk svelte-g396ot"><strong>üìç Location:</strong> GPS coordinates reveal photo locations</div> <div class="privacy-risk svelte-g396ot"><strong>üì∑ Device Info:</strong> Camera models can link photos to devices</div> <div class="privacy-risk svelte-g396ot"><strong>üïí Timestamps:</strong> Enable detailed activity timelines</div> <div class="privacy-risk svelte-g396ot"><strong>ü§ñ AI Detection:</strong> Software tags reveal AI generation</div></div> <div class="mt-4 p-3 bg-warning rounded svelte-g396ot"><p class="text-sm"><strong>‚ö†Ô∏è</strong> Social media may strip some metadata, but it&#39;s safer
        to clean images yourself.</p></div></div>`,n=S(),s=g("div"),s.innerHTML='<h4 class="font-semibold mb-2">Perfect for:</h4> <div class="grid grid-2 gap-2 text-sm svelte-g396ot"><div>‚Ä¢ Journalists protecting sources</div> <div>‚Ä¢ Activists maintaining anonymity</div> <div>‚Ä¢ Content creators removing AI tags</div> <div>‚Ä¢ Anyone valuing digital privacy</div></div>',o(e,"class","grid grid-2 gap-6 svelte-g396ot"),o(s,"class","mt-6 p-4 bg-info rounded svelte-g396ot")},m(l,i){I(l,e,i),I(l,n,i),I(l,s,i)},p:G,i:G,o:G,d(l){l&&(C(e),C(n),C(s))}}}class qt extends ne{constructor(e){super(),te(this,e,null,Wt,ee,{})}}function Je(t){let e,n,s,l,i,a,r,f,d,b,u,h,p=t[0].name+"",v,E,P=(t[0].size/1024).toFixed(1)+"",_,L,X,m,U,D,B,J,j,H,$,F,w=t[1]&&He(t);function T(A,x){if(A[1]&&A[1].message&&!A[1].hasMetadata)return Qt;if(A[1])return Yt}let y=T(t),k=y&&y(t),M=t[4]&&t[1]&&Ve(t);j=new jt({props:{file:t[0],disabled:t[3]}}),j.$on("processingStart",t[9]),j.$on("processingComplete",t[10]);let R=t[3]&&Ke(),N=t[2]&&We(t);return{c(){e=g("section"),n=g("div"),s=g("div"),l=g("h3"),l.textContent="Original",i=S(),w&&w.c(),a=S(),r=g("div"),f=g("img"),b=S(),u=g("div"),h=g("p"),v=O(p),E=O(" ‚Ä¢ "),_=O(P),L=O(" KB"),X=S(),k&&k.c(),m=S(),M&&M.c(),U=S(),D=g("div"),B=g("h3"),B.textContent="Clean Metadata",J=S(),le(j.$$.fragment),H=S(),R&&R.c(),$=S(),N&&N.c(),o(l,"class","text-lg font-semibold"),o(s,"class","flex justify-between items-center mb-3"),pe(f.src,d=URL.createObjectURL(t[0]))||o(f,"src",d),o(f,"alt","Original"),o(f,"class","image-preview svelte-1kc5fup"),o(r,"class","text-center mb-3"),o(u,"class","text-xs text-secondary svelte-1kc5fup"),o(n,"class","card"),o(B,"class","text-lg font-semibold mb-3"),o(D,"class","card"),o(e,"class","grid grid-2 gap-6 svelte-1kc5fup")},m(A,x){I(A,e,x),c(e,n),c(n,s),c(s,l),c(s,i),w&&w.m(s,null),c(n,a),c(n,r),c(r,f),c(n,b),c(n,u),c(u,h),c(h,v),c(h,E),c(h,_),c(h,L),c(u,X),k&&k.m(u,null),c(n,m),M&&M.m(n,null),c(e,U),c(e,D),c(D,B),c(D,J),Q(j,D,null),c(D,H),R&&R.m(D,null),c(D,$),N&&N.m(D,null),F=!0},p(A,x){A[1]?w?w.p(A,x):(w=He(A),w.c(),w.m(s,null)):w&&(w.d(1),w=null),(!F||x&1&&!pe(f.src,d=URL.createObjectURL(A[0])))&&o(f,"src",d),(!F||x&1)&&p!==(p=A[0].name+"")&&K(v,p),(!F||x&1)&&P!==(P=(A[0].size/1024).toFixed(1)+"")&&K(_,P),y===(y=T(A))&&k?k.p(A,x):(k&&k.d(1),k=y&&y(A),k&&(k.c(),k.m(u,null))),A[4]&&A[1]?M?(M.p(A,x),x&18&&V(M,1)):(M=Ve(A),M.c(),V(M,1),M.m(n,null)):M&&(Ae(),W(M,1,1,()=>{M=null}),Pe());const z={};x&1&&(z.file=A[0]),x&8&&(z.disabled=A[3]),j.$set(z),A[3]?R||(R=Ke(),R.c(),R.m(D,$)):R&&(R.d(1),R=null),A[2]?N?N.p(A,x):(N=We(A),N.c(),N.m(D,null)):N&&(N.d(1),N=null)},i(A){F||(V(M),V(j.$$.fragment,A),F=!0)},o(A){W(M),W(j.$$.fragment,A),F=!1},d(A){A&&C(e),w&&w.d(),k&&k.d(),M&&M.d(),Z(j),R&&R.d(),N&&N.d()}}}function He(t){let e,n=t[4]?"Hide":"Show",s,l,i,a;return{c(){e=g("button"),s=O(n),l=O(" Metadata"),o(e,"class","btn btn-ghost text-sm svelte-1kc5fup")},m(r,f){I(r,e,f),c(e,s),c(e,l),i||(a=q(e,"click",t[12]),i=!0)},p(r,f){f&16&&n!==(n=r[4]?"Hide":"Show")&&K(s,n)},d(r){r&&C(e),i=!1,a()}}}function Yt(t){let e,n,s=Object.keys(t[1]).filter(Qe).length+"",l,i;return{c(){e=g("p"),n=O("‚ö†Ô∏è "),l=O(s),i=O(" metadata entries found"),o(e,"class","text-warning")},m(a,r){I(a,e,r),c(e,n),c(e,l),c(e,i)},p(a,r){r&2&&s!==(s=Object.keys(a[1]).filter(Qe).length+"")&&K(l,s)},d(a){a&&C(e)}}}function Qt(t){let e;return{c(){e=g("p"),e.textContent="‚úì No metadata detected",o(e,"class","text-success")},m(n,s){I(n,e,s)},p:G,d(n){n&&C(e)}}}function Ve(t){let e,n,s;return n=new Rt({props:{metadata:t[1]}}),{c(){e=g("div"),le(n.$$.fragment),o(e,"class","mt-4")},m(l,i){I(l,e,i),Q(n,e,null),s=!0},p(l,i){const a={};i&2&&(a.metadata=l[1]),n.$set(a)},i(l){s||(V(n.$$.fragment,l),s=!0)},o(l){W(n.$$.fragment,l),s=!1},d(l){l&&C(e),Z(n)}}}function Ke(t){let e;return{c(){e=g("div"),e.innerHTML='<div class="progress-bar svelte-1kc5fup"><div class="progress-fill svelte-1kc5fup" style="width: 100%;"></div></div> <p class="text-xs text-secondary mt-1 svelte-1kc5fup">Processing...</p>',o(e,"class","mt-3")},m(n,s){I(n,e,s)},d(n){n&&C(e)}}}function We(t){let e,n,s,l,i,a,r,f,d,b=(t[2].size/1024).toFixed(1)+"",u,h,p=t[2].compressionRatio?`${t[2].compressionRatio>0?"-":"+"}${Math.abs(t[2].compressionRatio)}% size`:"Processed",v,E,P,_,L,X,m,U,D,B,J,j,H,$,F,w=t[2].wasSecondPass&&qe();return{c(){e=g("div"),n=g("h4"),n.textContent="‚úÖ Clean Image",s=S(),l=g("div"),i=g("img"),r=S(),f=g("div"),d=g("p"),u=O(b),h=O(` KB ‚Ä¢
                  `),v=O(p),E=S(),w&&w.c(),P=S(),_=g("p"),_.textContent="‚úì All EXIF metadata removed",L=S(),X=g("p"),X.textContent="‚úì AI/C2PA provenance data stripped",m=S(),U=g("p"),U.textContent="‚úì Location data cleared",D=S(),B=g("a"),J=Y("svg"),j=Y("path"),H=O(`
                Download Cleaned Image`),o(n,"class","font-medium mb-2"),pe(i.src,a=t[2].url)||o(i,"src",a),o(i,"alt","Cleaned"),o(i,"class","image-preview svelte-1kc5fup"),o(l,"class","text-center mb-3"),o(_,"class","status-success"),o(X,"class","status-success"),o(U,"class","status-success"),o(f,"class","text-xs text-secondary mb-3 svelte-1kc5fup"),o(j,"fill-rule","evenodd"),o(j,"d","M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"),o(j,"clip-rule","evenodd"),o(J,"width","20"),o(J,"height","20"),o(J,"fill","currentColor"),o(J,"viewBox","0 0 20 20"),o(B,"href",$=t[2].url),o(B,"download",F=t[2].filename),o(B,"class","btn btn-success btn-lg w-full svelte-1kc5fup"),o(e,"class","mt-4 slide-up svelte-1kc5fup")},m(T,y){I(T,e,y),c(e,n),c(e,s),c(e,l),c(l,i),c(e,r),c(e,f),c(f,d),c(d,u),c(d,h),c(d,v),c(f,E),w&&w.m(f,null),c(f,P),c(f,_),c(f,L),c(f,X),c(f,m),c(f,U),c(e,D),c(e,B),c(B,J),c(J,j),c(B,H)},p(T,y){y&4&&!pe(i.src,a=T[2].url)&&o(i,"src",a),y&4&&b!==(b=(T[2].size/1024).toFixed(1)+"")&&K(u,b),y&4&&p!==(p=T[2].compressionRatio?`${T[2].compressionRatio>0?"-":"+"}${Math.abs(T[2].compressionRatio)}% size`:"Processed")&&K(v,p),T[2].wasSecondPass?w||(w=qe(),w.c(),w.m(f,P)):w&&(w.d(1),w=null),y&4&&$!==($=T[2].url)&&o(B,"href",$),y&4&&F!==(F=T[2].filename)&&o(B,"download",F)},d(T){T&&C(e),w&&w.d()}}}function qe(t){let e;return{c(){e=g("p"),e.textContent="‚ö†Ô∏è Used enhanced cleaning (second pass)",o(e,"class","status-warning svelte-1kc5fup")},m(n,s){I(n,e,s)},d(n){n&&C(e)}}}function Ye(t){let e,n;return e=new qt({}),{c(){le(e.$$.fragment)},m(s,l){Q(e,s,l),n=!0},i(s){n||(V(e.$$.fragment,s),n=!0)},o(s){W(e.$$.fragment,s),n=!1},d(s){Z(e,s)}}}function Zt(t){let e,n,s,l,i,a,r,f,d,b,u,h,p,v,E,P,_,L=t[5]?"Hide":"Show",X,m,U,D,B,J,j,H,$,F;e=new Xt({props:{darkMode:t[6]}}),e.$on("toggle",t[7]),l=new Ht({}),b=new Ct({props:{disabled:t[3]}}),b.$on("fileSelected",t[8]),b.$on("reset",t[11]);let w=t[0]&&Je(t),T=t[5]&&Ye();return j=new Kt({}),{c(){le(e.$$.fragment),n=S(),s=g("main"),le(l.$$.fragment),i=S(),a=g("div"),r=g("section"),f=g("div"),f.innerHTML='<h2 class="text-xl font-bold">Upload Your Image</h2>',d=S(),le(b.$$.fragment),u=S(),w&&w.c(),h=S(),p=g("section"),v=g("div"),E=g("h2"),E.textContent="üîê Privacy & Security",P=S(),_=g("button"),X=O(L),m=O(" Details"),U=S(),D=g("div"),D.innerHTML=`<p class="text-sm text-secondary svelte-1kc5fup"><span class="text-success font-semibold">‚úì</span> 100% client-side
          processing
          <span class="mx-2">‚Ä¢</span> <span class="text-success font-semibold">‚úì</span> No data collection
          <span class="mx-2">‚Ä¢</span> <span class="text-success font-semibold">‚úì</span> Open source</p>`,B=S(),T&&T.c(),J=S(),le(j.$$.fragment),o(f,"class","flex justify-between items-center mb-4"),o(r,"class","card"),o(E,"class","text-xl font-bold"),o(_,"class","btn btn-ghost text-sm svelte-1kc5fup"),o(_,"type","button"),o(v,"class","flex justify-between items-center mb-4"),o(D,"class","mb-3"),o(p,"class","card"),o(a,"class","grid gap-6 svelte-1kc5fup"),o(s,"class","container py-8")},m(y,k){Q(e,y,k),I(y,n,k),I(y,s,k),Q(l,s,null),c(s,i),c(s,a),c(a,r),c(r,f),c(r,d),Q(b,r,null),c(a,u),w&&w.m(a,null),c(a,h),c(a,p),c(p,v),c(v,E),c(v,P),c(v,_),c(_,X),c(_,m),c(p,U),c(p,D),c(p,B),T&&T.m(p,null),I(y,J,k),Q(j,y,k),H=!0,$||(F=q(_,"click",t[13]),$=!0)},p(y,[k]){const M={};k&64&&(M.darkMode=y[6]),e.$set(M);const R={};k&8&&(R.disabled=y[3]),b.$set(R),y[0]?w?(w.p(y,k),k&1&&V(w,1)):(w=Je(y),w.c(),V(w,1),w.m(a,h)):w&&(Ae(),W(w,1,1,()=>{w=null}),Pe()),(!H||k&32)&&L!==(L=y[5]?"Hide":"Show")&&K(X,L),y[5]?T?k&32&&V(T,1):(T=Ye(),T.c(),V(T,1),T.m(p,null)):T&&(Ae(),W(T,1,1,()=>{T=null}),Pe())},i(y){H||(V(e.$$.fragment,y),V(l.$$.fragment,y),V(b.$$.fragment,y),V(w),V(T),V(j.$$.fragment,y),H=!0)},o(y){W(e.$$.fragment,y),W(l.$$.fragment,y),W(b.$$.fragment,y),W(w),W(T),W(j.$$.fragment,y),H=!1},d(y){y&&(C(n),C(s),C(J)),Z(e,y),Z(l),Z(b),w&&w.d(),T&&T.d(),Z(j,y),$=!1,F()}}}const Qe=t=>!["fileType","hasMetadata","message"].includes(t);function en(t,e,n){let s=null,l=null,i=null,a=!1,r=!1,f=!1,d=!1;dt(()=>{const L=localStorage.getItem("theme");L?n(6,d=L==="dark"):n(6,d=window.matchMedia("(prefers-color-scheme: dark)").matches),b()});function b(){d?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.removeAttribute("data-theme"),localStorage.setItem("theme",d?"dark":"light")}function u(){n(6,d=!d),b()}function h(L){n(0,s=L.detail.file),n(1,l=L.detail.metadata),n(2,i=null),n(4,r=!1)}function p(){n(3,a=!0)}function v(L){n(3,a=!1),n(2,i=L.detail.processedImage)}function E(){n(0,s=null),n(1,l=null),n(2,i=null),n(3,a=!1),n(4,r=!1)}function P(){n(4,r=!r)}function _(){n(5,f=!f)}return[s,l,i,a,r,f,d,u,h,p,v,E,P,_]}class tn extends ne{constructor(e){super(),te(this,e,en,Zt,ee,{})}}new tn({target:document.getElementById("app")});
